2026-02-13 14:40:47 - INFO - [main.py:86] - [INFO] Initializing Pipeline...
2026-02-13 14:40:47 - INFO - [pipeline.py:30] - Agent Model ID: Qwen/Qwen3-8B-AWQ
2026-02-13 14:40:47 - DEBUG - [embedder.py:10] - Loading Embedder: sentence-transformers/all-MiniLM-L6-v2 on cuda...
2026-02-13 14:40:50 - INFO - [pipeline.py:36] - Embedder Model: sentence-transformers/all-MiniLM-L6-v2
2026-02-13 14:40:50 - INFO - [graph_builder.py:369] - [INFO] Graph Builder Initialized with Qwen/Qwen3-8B-AWQ
2026-02-13 14:40:50 - INFO - [pipeline.py:50] - Graph Builder Type: semantic
2026-02-13 14:40:50 - INFO - [pipeline.py:68] - Node Selector Type: agent
2026-02-13 14:40:50 - INFO - [pipeline.py:80] - Graph Traverser Type: shortest_path
2026-02-13 14:40:50 - DEBUG - [reranker.py:13] - [INFO] Loading Reranker Model: BAAI/bge-reranker-v2-m3...
2026-02-13 14:40:54 - INFO - [pipeline.py:109] - Retriever Type: reranker
2026-02-13 14:40:54 - INFO - [main.py:88] - [INFO] Initializing Pipeline Completed.
2026-02-13 14:40:54 - INFO - [main.py:91] - [INFO] Loading Dataset...
2026-02-13 14:40:56 - ERROR - [data_loader.py:60] - SQL Parsing Failed: Required keyword: 'this' missing for <class 'sqlglot.expressions.Datetime'>. Line 1, Col: 26.
  SELECT DISTINCT DATETIME([4m)[0m - T2.birthday age FROM Player_Attributes AS t1 INNER JOIN Player AS t2 ON t1.player_api_id = t2.pla
2026-02-13 14:40:57 - INFO - [main.py:93] - [INFO] Loaded 1534 items from [bird] dataset.
2026-02-13 14:40:57 - INFO - [generator.py:20] - Generator Client Initialized: http://localhost:8001/generate
2026-02-13 14:40:57 - INFO - [main.py:108] - Start Processing...
2026-02-13 14:40:57 - DEBUG - [main.py:120] - Question: What is the highest eligible free rate for K-12 students in the schools in Alameda County?
2026-02-13 14:40:57 - DEBUG - [pipeline.py:121] - [Context Switch] Building Graph for DB: california_schools
2026-02-13 14:40:57 - DEBUG - [graph_builder.py:388] - Loading Cached Semantic Graph from ./data/cache_graphs/california_schools.pkl...
2026-02-13 14:40:57 - DEBUG - [pipeline.py:132] - Indexing Graph for Retriever (DB: california_schools)
2026-02-13 14:40:57 - DEBUG - [retriever.py:131] - Indexing Graph for PCST with Semantic Edges ...
2026-02-13 14:40:57 - DEBUG - [embedder.py:27] - Indexing 92 schema nodes...
2026-02-13 14:40:57 - DEBUG - [embedder.py:38] - Schema indexing complete.
2026-02-13 14:40:57 - DEBUG - [retriever.py:165] - Indexed 92 nodes for PCST.
2026-02-13 14:40:57 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the highest eligible free rate for K-12 students in the schools in Alameda County?
2026-02-13 14:40:58 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:40:58 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Free Meal Count (K-12)', 'frpm.CDSCode', 'frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.Percent (%) Eligible Free (K-12)', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm']
2026-02-13 14:40:58 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Free Meal Count (K-12):REAL, Free Meal Count (K-12), Examples: [565.0, 186.0, 134.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435]),
(Percent (%) Eligible Free (K-12):REAL, Percent (%) Eligible Free (K-12), Examples: [0.519779208831647, 0.470886075949367, 0.549180327868853])
]

### ã€User Questionã€‘
What is the highest eligible free rate for K-12 students in the schools in Alameda County?

### ã€Reference Informationã€‘
Eligible free rate for K-12 = `Free Meal Count (K-12)` / `Enrollment (K-12)`

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the highest eligible free rate for K-12 students in the schools in Alameda County?

```sql

2026-02-13 14:40:58 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:00 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT MAX(T1.`Percent (%) Eligible Free (K-12)`) AS highest_eligible_free_rate FROM frpm AS T1 INNER JOIN public_schooldistrict AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.County = 'Alameda'

2026-02-13 14:41:00 - DEBUG - [main.py:167] - SELECT MAX(T1.`Percent (%) Eligible Free (K-12)`) AS highest_eligible_free_rate FROM frpm AS T1 INNER JOIN public_schooldistrict AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.County = 'Alameda'
2026-02-13 14:41:00 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: public_schooldistrict
[SQL: SELECT MAX(T1.`Percent (%) Eligible Free (K-12)`) AS highest_eligible_free_rate FROM frpm AS T1 INNER JOIN public_schooldistrict AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.County = 'Alameda']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT MAX(T1.`Percent (%) Eligible Free (K-12)`) AS highest_eligible_free_rate FROM frpm AS T1 INNER JOIN public_schooldistrict AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.County = 'Alameda'
2026-02-13 14:41:00 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.county name', 'frpm.enrollment (k-12)']
2026-02-13 14:41:00 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: public_schooldistrict
[SQL: SELECT MAX(T1.`Percent (%) Eligible Free (K-12)`) AS highest_eligible_free_rate FROM frpm AS T1 INNER JOIN public_schooldistrict AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.County = 'Alameda']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:00 - DEBUG - [main.py:120] - Question: Please list the lowest three eligible free rates for students aged 5-17 in continuation schools.
2026-02-13 14:41:00 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Please list the lowest three eligible free rates for students aged 5-17 in continuation schools.
2026-02-13 14:41:00 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:00 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.Enrollment (Ages 5-17)', 'frpm.Percent (%) Eligible Free (K-12)', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm', 'frpm.Free Meal Count (Ages 5-17)']
2026-02-13 14:41:00 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(Free Meal Count (Ages 5-17):REAL, Free Meal Count (Ages 5-17), Examples: [553.0, 182.0, 128.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435]),
(Percent (%) Eligible Free (K-12):REAL, Percent (%) Eligible Free (K-12), Examples: [0.519779208831647, 0.470886075949367, 0.549180327868853])
]

### ã€User Questionã€‘
Please list the lowest three eligible free rates for students aged 5-17 in continuation schools.

### ã€Reference Informationã€‘
Eligible free rates for students aged 5-17 = `Free Meal Count (Ages 5-17)` / `Enrollment (Ages 5-17)`

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Please list the lowest three eligible free rates for students aged 5-17 in continuation schools.

```sql

2026-02-13 14:41:00 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:02 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT `Percent (%) Eligible Free (Ages 5-17)` FROM frpm ORDER BY `Percent (%) Eligible Free (Ages 5-17)` ASC LIMIT 3
2026-02-13 14:41:02 - DEBUG - [main.py:167] - SELECT `Percent (%) Eligible Free (Ages 5-17)` FROM frpm ORDER BY `Percent (%) Eligible Free (Ages 5-17)` ASC LIMIT 3
2026-02-13 14:41:02 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.educational option type']
2026-02-13 14:41:02 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Row Count Mismatch: GT=3, Pred=1
2026-02-13 14:41:02 - DEBUG - [main.py:120] - Question: Please list the zip code of all the charter schools in Fresno County Office of Education.
2026-02-13 14:41:02 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Please list the zip code of all the charter schools in Fresno County Office of Education.
2026-02-13 14:41:02 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:02 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Charter School (Y/N)', 'schools.Zip', 'schools.CharterNum', 'frpm.School Code', 'frpm.CDSCode', 'frpm', 'frpm.Charter School Number']
2026-02-13 14:41:02 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter School (Y/N):INTEGER, Charter School (Y/N), Examples: [1, 0]),
(Charter School Number:TEXT, Charter School Number, Examples: [0728, 0811, 1049]),
(School Code:TEXT, School Code, Examples: [0109835, 0112607, 0118489])
]
# Table: schools
[
(CharterNum:TEXT, CharterNum, Examples: [0728, 0811, 1049]),
(Zip:TEXT, Zip, Examples: [94544-1136, 94560-5359, 94612-3355])
]

### ã€User Questionã€‘
Please list the zip code of all the charter schools in Fresno County Office of Education.

### ã€Reference Informationã€‘
Charter schools refers to `Charter School (Y/N)` = 1 in the table fprm

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Please list the zip code of all the charter schools in Fresno County Office of Education.

```sql

2026-02-13 14:41:02 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:04 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT DISTINCT T1.Zip FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CharterNum = T2.`Charter School Number` WHERE T2.`Charter School (Y/N)` = 1

2026-02-13 14:41:04 - DEBUG - [main.py:167] - SELECT DISTINCT T1.Zip FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CharterNum = T2.`Charter School Number` WHERE T2.`Charter School (Y/N)` = 1
2026-02-13 14:41:04 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.district name', 'schools.cdscode']
2026-02-13 14:41:04 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Row Count Mismatch: GT=5, Pred=1063
2026-02-13 14:41:04 - DEBUG - [main.py:120] - Question: What is the unabbreviated mailing street address of the school with the highest FRPM count for K-12 students?
2026-02-13 14:41:04 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the unabbreviated mailing street address of the school with the highest FRPM count for K-12 students?
2026-02-13 14:41:04 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:04 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'frpm.Enrollment (K-12)', 'frpm.FRPM Count (K-12)', 'frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Percent (%) Eligible Free (K-12)', 'frpm.Free Meal Count (K-12)', 'frpm']
2026-02-13 14:41:04 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (K-12):REAL, Enrollment (K-12), Examples: [1087.0, 395.0, 244.0]),
(FRPM Count (K-12):REAL, FRPM Count (K-12), Examples: [715.0, 186.0, 175.0]),
(Free Meal Count (K-12):REAL, Free Meal Count (K-12), Examples: [565.0, 186.0, 134.0]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098]),
(Percent (%) Eligible Free (K-12):REAL, Percent (%) Eligible Free (K-12), Examples: [0.519779208831647, 0.470886075949367, 0.549180327868853])
]

### ã€User Questionã€‘
What is the unabbreviated mailing street address of the school with the highest FRPM count for K-12 students?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the unabbreviated mailing street address of the school with the highest FRPM count for K-12 students?

```sql

2026-02-13 14:41:04 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:05 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT `Unabbreviated mailing street address` FROM frpm ORDER BY `FRPM Count (K-12)` DESC LIMIT 1
2026-02-13 14:41:05 - DEBUG - [main.py:167] - SELECT `Unabbreviated mailing street address` FROM frpm ORDER BY `FRPM Count (K-12)` DESC LIMIT 1
2026-02-13 14:41:05 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: Unabbreviated mailing street address
[SQL: SELECT `Unabbreviated mailing street address` FROM frpm ORDER BY `FRPM Count (K-12)` DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT `Unabbreviated mailing street address` FROM frpm ORDER BY `FRPM Count (K-12)` DESC LIMIT 1
2026-02-13 14:41:05 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.mailstreet', 'schools.cdscode']
2026-02-13 14:41:05 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: Unabbreviated mailing street address
[SQL: SELECT `Unabbreviated mailing street address` FROM frpm ORDER BY `FRPM Count (K-12)` DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:05 - DEBUG - [main.py:120] - Question: Please list the phone numbers of the direct charter-funded schools that are opened after 2000/1/1.
2026-02-13 14:41:05 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Please list the phone numbers of the direct charter-funded schools that are opened after 2000/1/1.
2026-02-13 14:41:05 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:41:05 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.CDSCode', 'schools', 'schools.Phone', 'schools.Charter', 'frpm.Charter School Number', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:41:05 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter School Number:TEXT, Charter School Number, Examples: [0728, 0811, 1049]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(Charter:INTEGER, Charter, Examples: [1, 0]),
(Phone:TEXT, Phone, Examples: [(510) 887-0152, (510) 596-8901, (510) 686-4131])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
Please list the phone numbers of the direct charter-funded schools that are opened after 2000/1/1.

### ã€Reference Informationã€‘
Charter schools refers to `Charter School (Y/N)` = 1 in the frpm

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Please list the phone numbers of the direct charter-funded schools that are opened after 2000/1/1.

```sql

2026-02-13 14:41:05 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:07 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT DISTINCT T1.`Phone` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`Charter` = 1 AND T2.`Open Date` > '2000-01-01'

2026-02-13 14:41:07 - DEBUG - [main.py:167] - SELECT DISTINCT T1.`Phone` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`Charter` = 1 AND T2.`Open Date` > '2000-01-01'
2026-02-13 14:41:07 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T2.Open Date
[SQL: SELECT DISTINCT T1.`Phone` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`Charter` = 1 AND T2.`Open Date` > '2000-01-01']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT DISTINCT T1.`Phone` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`Charter` = 1 AND T2.`Open Date` > '2000-01-01'
2026-02-13 14:41:07 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.opendate', 'frpm.charter school (y/n)', 'frpm.charter funding type']
2026-02-13 14:41:07 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T2.Open Date
[SQL: SELECT DISTINCT T1.`Phone` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`Charter` = 1 AND T2.`Open Date` > '2000-01-01']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:07 - DEBUG - [main.py:120] - Question: How many schools with an average score in Math greater than 400 in the SAT test are exclusively virtual?
2026-02-13 14:41:07 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: How many schools with an average score in Math greater than 400 in the SAT test are exclusively virtual?
2026-02-13 14:41:08 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:41:08 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.CDSCode', 'schools', 'schools.NCESSchool', 'schools.SOC', 'schools.GSoffered', 'schools.Virtual', 'frpm.CDSCode', 'frpm']
2026-02-13 14:41:08 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(NCESSchool:TEXT, NCESSchool, Examples: [10546, 10947, 12283]),
(SOC:TEXT, SOC, Examples: [65, 66, 60]),
(Virtual:TEXT, Virtual, Examples: [P, N, F])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
How many schools with an average score in Math greater than 400 in the SAT test are exclusively virtual?

### ã€Reference Informationã€‘
Exclusively virtual refers to Virtual = 'F'

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
How many schools with an average score in Math greater than 400 in the SAT test are exclusively virtual?

```sql

2026-02-13 14:41:08 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:09 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.Virtual = 'F' AND T1.Math_avg > 400

2026-02-13 14:41:09 - DEBUG - [main.py:167] - SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.Virtual = 'F' AND T1.Math_avg > 400
2026-02-13 14:41:09 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.Math_avg
[SQL: SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.Virtual = 'F' AND T1.Math_avg > 400]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.Virtual = 'F' AND T1.Math_avg > 400
2026-02-13 14:41:09 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.school', 'satscores.cds', 'satscores.avgscrmath']
2026-02-13 14:41:09 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.Math_avg
[SQL: SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.Virtual = 'F' AND T1.Math_avg > 400]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:09 - DEBUG - [main.py:120] - Question: Among the schools with the SAT test takers of over 500, please list the schools that are magnet schools or offer a magnet program.
2026-02-13 14:41:09 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Among the schools with the SAT test takers of over 500, please list the schools that are magnet schools or offer a magnet program.
2026-02-13 14:41:10 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:10 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.GSoffered', 'frpm.School Type', 'schools.Magnet', 'frpm.CDSCode', 'schools.GSserved', 'frpm', 'frpm.School Name']
2026-02-13 14:41:10 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter]),
(School Type:TEXT, School Type, Examples: [K-12 Schools (Public)])
]
# Table: schools
[
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7]),
(Magnet:INTEGER, Magnet, Examples: [0, 1])
]

### ã€User Questionã€‘
Among the schools with the SAT test takers of over 500, please list the schools that are magnet schools or offer a magnet program.

### ã€Reference Informationã€‘
Magnet schools or offer a magnet program means that Magnet = 1

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Among the schools with the SAT test takers of over 500, please list the schools that are magnet schools or offer a magnet program.

```sql

2026-02-13 14:41:10 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:12 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT DISTINCT T1.`School Name` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.GSoffered WHERE T2.Magnet = 1 AND T1.`SAT Test Takers` > 500

2026-02-13 14:41:12 - DEBUG - [main.py:167] - SELECT DISTINCT T1.`School Name` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.GSoffered WHERE T2.Magnet = 1 AND T1.`SAT Test Takers` > 500
2026-02-13 14:41:12 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.SAT Test Takers
[SQL: SELECT DISTINCT T1.`School Name` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.GSoffered WHERE T2.Magnet = 1 AND T1.`SAT Test Takers` > 500]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT DISTINCT T1.`School Name` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.GSoffered WHERE T2.Magnet = 1 AND T1.`SAT Test Takers` > 500
2026-02-13 14:41:12 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.numtsttakr', 'schools.school', 'satscores.cds', 'schools.cdscode']
2026-02-13 14:41:12 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.SAT Test Takers
[SQL: SELECT DISTINCT T1.`School Name` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.GSoffered WHERE T2.Magnet = 1 AND T1.`SAT Test Takers` > 500]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:12 - DEBUG - [main.py:120] - Question: What is the phone number of the school that has the highest number of test takers with an SAT score of over 1500?
2026-02-13 14:41:12 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the phone number of the school that has the highest number of test takers with an SAT score of over 1500?
2026-02-13 14:41:12 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:12 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.NCESSchool', 'schools.Phone', 'frpm.Charter School Number', 'satscores.NumGE1500', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:41:12 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter School Number:TEXT, Charter School Number, Examples: [0728, 0811, 1049]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: satscores
[
(NumGE1500:INTEGER, NumGE1500, Examples: [14, 9, 5])
]
# Table: schools
[
(NCESSchool:TEXT, NCESSchool, Examples: [10546, 10947, 12283]),
(Phone:TEXT, Phone, Examples: [(510) 887-0152, (510) 596-8901, (510) 686-4131])
]

### ã€User Questionã€‘
What is the phone number of the school that has the highest number of test takers with an SAT score of over 1500?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the phone number of the school that has the highest number of test takers with an SAT score of over 1500?

```sql

2026-02-13 14:41:12 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:14 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.Phone FROM schools AS T1 INNER JOIN satscores AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T2.NumGE1500 > 0 ORDER BY T2.NumGE1500 DESC LIMIT 1

2026-02-13 14:41:14 - DEBUG - [main.py:167] - SELECT T1.Phone FROM schools AS T1 INNER JOIN satscores AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T2.NumGE1500 > 0 ORDER BY T2.NumGE1500 DESC LIMIT 1
2026-02-13 14:41:14 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T2.CDSCode
[SQL: SELECT T1.Phone FROM schools AS T1 INNER JOIN satscores AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T2.NumGE1500 > 0 ORDER BY T2.NumGE1500 DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.Phone FROM schools AS T1 INNER JOIN satscores AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T2.NumGE1500 > 0 ORDER BY T2.NumGE1500 DESC LIMIT 1
2026-02-13 14:41:14 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.cds', 'schools.cdscode']
2026-02-13 14:41:14 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T2.CDSCode
[SQL: SELECT T1.Phone FROM schools AS T1 INNER JOIN satscores AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T2.NumGE1500 > 0 ORDER BY T2.NumGE1500 DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:14 - DEBUG - [main.py:120] - Question: What is the number of SAT test takers of the schools with the highest FRPM count for K-12 students?
2026-02-13 14:41:14 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the number of SAT test takers of the schools with the highest FRPM count for K-12 students?
2026-02-13 14:41:15 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:15 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'frpm.Enrollment (K-12)', 'frpm.FRPM Count (K-12)', 'frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Percent (%) Eligible Free (K-12)', 'frpm.Free Meal Count (K-12)', 'frpm']
2026-02-13 14:41:15 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (K-12):REAL, Enrollment (K-12), Examples: [1087.0, 395.0, 244.0]),
(FRPM Count (K-12):REAL, FRPM Count (K-12), Examples: [715.0, 186.0, 175.0]),
(Free Meal Count (K-12):REAL, Free Meal Count (K-12), Examples: [565.0, 186.0, 134.0]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098]),
(Percent (%) Eligible Free (K-12):REAL, Percent (%) Eligible Free (K-12), Examples: [0.519779208831647, 0.470886075949367, 0.549180327868853])
]

### ã€User Questionã€‘
What is the number of SAT test takers of the schools with the highest FRPM count for K-12 students?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the number of SAT test takers of the schools with the highest FRPM count for K-12 students?

```sql

2026-02-13 14:41:15 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:15 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT `SAT Test Takers` FROM frpm ORDER BY `FRPM Count (K-12)` DESC LIMIT 1
2026-02-13 14:41:15 - DEBUG - [main.py:167] - SELECT `SAT Test Takers` FROM frpm ORDER BY `FRPM Count (K-12)` DESC LIMIT 1
2026-02-13 14:41:15 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: SAT Test Takers
[SQL: SELECT `SAT Test Takers` FROM frpm ORDER BY `FRPM Count (K-12)` DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT `SAT Test Takers` FROM frpm ORDER BY `FRPM Count (K-12)` DESC LIMIT 1
2026-02-13 14:41:15 - DEBUG - [main.py:181] - [Low Recall] Missing: []
2026-02-13 14:41:15 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: SAT Test Takers
[SQL: SELECT `SAT Test Takers` FROM frpm ORDER BY `FRPM Count (K-12)` DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:15 - DEBUG - [main.py:120] - Question: Among the schools with the average score in Math over 560 in the SAT test, how many schools are directly charter-funded?
2026-02-13 14:41:15 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Among the schools with the average score in Math over 560 in the SAT test, how many schools are directly charter-funded?
2026-02-13 14:41:16 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 9
2026-02-13 14:41:16 - DEBUG - [pipeline.py:349] - Retrieved Nodes (9): ['satscores.cds', 'schools.CDSCode', 'satscores', 'schools.SOC', 'schools', 'frpm', 'satscores.AvgScrMath', 'frpm.Charter Funding Type', 'frpm.CDSCode']
2026-02-13 14:41:16 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter Funding Type:TEXT, Charter Funding Type, Examples: [Directly funded])
]
# Table: satscores
[
(cds:TEXT, cds, Primary Key, Examples: [10101080000000, 10101080109991, 10101080111682]),
(AvgScrMath:INTEGER, AvgScrMath, Examples: [418, 546, 387])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]
ã€Foreign keysã€‘
satscores.cds=schools.CDSCode
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
Among the schools with the average score in Math over 560 in the SAT test, how many schools are directly charter-funded?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Among the schools with the average score in Math over 560 in the SAT test, how many schools are directly charter-funded?

```sql

2026-02-13 14:41:16 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:19 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(DISTINCT T1.CDSCode) FROM schools AS T1 INNER JOIN satscores AS T2 ON T1.CDSCode = T2.cds INNER JOIN frpm AS T3 ON T1.CDSCode = T3.CDSCode WHERE T2.AvgScrMath > 560 AND T3.`Charter Funding Type` = 'Directly funded'

2026-02-13 14:41:19 - DEBUG - [main.py:167] - SELECT COUNT(DISTINCT T1.CDSCode) FROM schools AS T1 INNER JOIN satscores AS T2 ON T1.CDSCode = T2.cds INNER JOIN frpm AS T3 ON T1.CDSCode = T3.CDSCode WHERE T2.AvgScrMath > 560 AND T3.`Charter Funding Type` = 'Directly funded'
2026-02-13 14:41:19 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.school code']
2026-02-13 14:41:19 - DEBUG - [main.py:184] - [SUCCESS] Execution Match! (Time: 0.005s)
2026-02-13 14:41:19 - DEBUG - [main.py:120] - Question: For the school with the highest average score in Reading in the SAT test, what is its FRPM count for students aged 5-17?
2026-02-13 14:41:19 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: For the school with the highest average score in Reading in the SAT test, what is its FRPM count for students aged 5-17?
2026-02-13 14:41:19 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:19 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.FRPM Count (Ages 5-17)', 'frpm.Enrollment (Ages 5-17)', 'frpm.CDSCode', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm', 'frpm.Free Meal Count (Ages 5-17)']
2026-02-13 14:41:19 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0]),
(Free Meal Count (Ages 5-17):REAL, Free Meal Count (Ages 5-17), Examples: [553.0, 182.0, 128.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435])
]

### ã€User Questionã€‘
For the school with the highest average score in Reading in the SAT test, what is its FRPM count for students aged 5-17?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
For the school with the highest average score in Reading in the SAT test, what is its FRPM count for students aged 5-17?

```sql

2026-02-13 14:41:19 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:21 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.`FRPM Count (Ages 5-17)` FROM frpm AS T1 INNER JOIN sat AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY T2.`Reading Avg Score` DESC LIMIT 1

2026-02-13 14:41:21 - DEBUG - [main.py:167] - SELECT T1.`FRPM Count (Ages 5-17)` FROM frpm AS T1 INNER JOIN sat AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY T2.`Reading Avg Score` DESC LIMIT 1
2026-02-13 14:41:21 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: sat
[SQL: SELECT T1.`FRPM Count (Ages 5-17)` FROM frpm AS T1 INNER JOIN sat AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY T2.`Reading Avg Score` DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.`FRPM Count (Ages 5-17)` FROM frpm AS T1 INNER JOIN sat AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY T2.`Reading Avg Score` DESC LIMIT 1
2026-02-13 14:41:21 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.avgscrread', 'satscores.cds']
2026-02-13 14:41:21 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: sat
[SQL: SELECT T1.`FRPM Count (Ages 5-17)` FROM frpm AS T1 INNER JOIN sat AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY T2.`Reading Avg Score` DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:21 - DEBUG - [main.py:120] - Question: Please list the codes of the schools with a total enrollment of over 500.
2026-02-13 14:41:21 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Please list the codes of the schools with a total enrollment of over 500.
2026-02-13 14:41:21 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:21 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.CDSCode', 'schools.School', 'schools.CharterNum', 'schools.Zip', 'frpm.School Code', 'frpm.CDSCode', 'frpm']
2026-02-13 14:41:21 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(School Code:TEXT, School Code, Examples: [0109835, 0112607, 0118489])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(CharterNum:TEXT, CharterNum, Examples: [0728, 0811, 1049]),
(School:TEXT, School, Examples: [FAME Public Charter]),
(Zip:TEXT, Zip, Examples: [94544-1136, 94560-5359, 94612-3355])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
Please list the codes of the schools with a total enrollment of over 500.

### ã€Reference Informationã€‘
Total enrollment can be represented by `Enrollment (K-12)` + `Enrollment (Ages 5-17)`

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Please list the codes of the schools with a total enrollment of over 500.

```sql

2026-02-13 14:41:21 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:24 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.CDSCode FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`Enrollment (K-12)` + T1.`Enrollment (Ages 5-17)` > 500

2026-02-13 14:41:24 - DEBUG - [main.py:167] - SELECT T1.CDSCode FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`Enrollment (K-12)` + T1.`Enrollment (Ages 5-17)` > 500
2026-02-13 14:41:24 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.Enrollment (K-12)
[SQL: SELECT T1.CDSCode FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`Enrollment (K-12)` + T1.`Enrollment (Ages 5-17)` > 500]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.CDSCode FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`Enrollment (K-12)` + T1.`Enrollment (Ages 5-17)` > 500
2026-02-13 14:41:24 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.enrollment (ages 5-17)', 'frpm.enrollment (k-12)']
2026-02-13 14:41:24 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.Enrollment (K-12)
[SQL: SELECT T1.CDSCode FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`Enrollment (K-12)` + T1.`Enrollment (Ages 5-17)` > 500]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:24 - DEBUG - [main.py:120] - Question: Among the schools with an SAT excellence rate of over 0.3, what is the highest eligible free rate for students aged 5-17?
2026-02-13 14:41:24 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Among the schools with an SAT excellence rate of over 0.3, what is the highest eligible free rate for students aged 5-17?
2026-02-13 14:41:24 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:24 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.FRPM Count (Ages 5-17)', 'frpm.Enrollment (Ages 5-17)', 'frpm.CDSCode', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm', 'frpm.Free Meal Count (Ages 5-17)']
2026-02-13 14:41:24 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0]),
(Free Meal Count (Ages 5-17):REAL, Free Meal Count (Ages 5-17), Examples: [553.0, 182.0, 128.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435])
]

### ã€User Questionã€‘
Among the schools with an SAT excellence rate of over 0.3, what is the highest eligible free rate for students aged 5-17?

### ã€Reference Informationã€‘
Excellence rate = NumGE1500 / NumTstTakr; Eligible free rates for students aged 5-17 = `Free Meal Count (Ages 5-17)` / `Enrollment (Ages 5-17)`

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Among the schools with an SAT excellence rate of over 0.3, what is the highest eligible free rate for students aged 5-17?

```sql

2026-02-13 14:41:24 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:26 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT MAX(`Percent (%) Eligible Free (Ages 5-17)`) AS HighestEligibleFreeRate FROM frpm WHERE `NumGE1500` / `NumTstTakr` > 0.3
2026-02-13 14:41:26 - DEBUG - [main.py:167] - SELECT MAX(`Percent (%) Eligible Free (Ages 5-17)`) AS HighestEligibleFreeRate FROM frpm WHERE `NumGE1500` / `NumTstTakr` > 0.3
2026-02-13 14:41:26 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: NumGE1500
[SQL: SELECT MAX(`Percent (%) Eligible Free (Ages 5-17)`) AS HighestEligibleFreeRate FROM frpm WHERE `NumGE1500` / `NumTstTakr` > 0.3]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT MAX(`Percent (%) Eligible Free (Ages 5-17)`) AS HighestEligibleFreeRate FROM frpm WHERE `NumGE1500` / `NumTstTakr` > 0.3
2026-02-13 14:41:26 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.numtsttakr', 'satscores.numge1500', 'satscores.cds']
2026-02-13 14:41:26 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: NumGE1500
[SQL: SELECT MAX(`Percent (%) Eligible Free (Ages 5-17)`) AS HighestEligibleFreeRate FROM frpm WHERE `NumGE1500` / `NumTstTakr` > 0.3]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:26 - DEBUG - [main.py:120] - Question: Please list the phone numbers of the schools with the top 3 SAT excellence rate.
2026-02-13 14:41:26 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Please list the phone numbers of the schools with the top 3 SAT excellence rate.
2026-02-13 14:41:26 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:41:26 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.CDSCode', 'schools', 'schools.Phone', 'schools.SOC', 'schools.NCESDist', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:41:26 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(NCESDist:TEXT, NCESDist, Examples: [0691051, 0600002, 0600003]),
(Phone:TEXT, Phone, Examples: [(510) 887-0152, (510) 596-8901, (510) 686-4131]),
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
Please list the phone numbers of the schools with the top 3 SAT excellence rate.

### ã€Reference Informationã€‘
Excellence rate = NumGE1500 / NumTstTakr

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Please list the phone numbers of the schools with the top 3 SAT excellence rate.

```sql

2026-02-13 14:41:26 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:28 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT DISTINCT T1.Phone FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY (T2.`NumGE1500` / T2.`NumTstTkr`) DESC LIMIT 3

2026-02-13 14:41:28 - DEBUG - [main.py:167] - SELECT DISTINCT T1.Phone FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY (T2.`NumGE1500` / T2.`NumTstTkr`) DESC LIMIT 3
2026-02-13 14:41:28 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T2.NumGE1500
[SQL: SELECT DISTINCT T1.Phone FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY (T2.`NumGE1500` / T2.`NumTstTkr`) DESC LIMIT 3]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT DISTINCT T1.Phone FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY (T2.`NumGE1500` / T2.`NumTstTkr`) DESC LIMIT 3
2026-02-13 14:41:28 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.numtsttakr', 'satscores.numge1500', 'satscores.cds']
2026-02-13 14:41:28 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T2.NumGE1500
[SQL: SELECT DISTINCT T1.Phone FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY (T2.`NumGE1500` / T2.`NumTstTkr`) DESC LIMIT 3]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:28 - DEBUG - [main.py:120] - Question: List the top five schools, by descending order, from the highest to the lowest, the most number of Enrollment (Ages 5-17). Please give their NCES school identification number.
2026-02-13 14:41:28 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: List the top five schools, by descending order, from the highest to the lowest, the most number of Enrollment (Ages 5-17). Please give their NCES school identification number.
2026-02-13 14:41:29 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:29 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'schools.NCESSchool', 'frpm.FRPM Count (Ages 5-17)', 'frpm.Enrollment (Ages 5-17)', 'frpm.CDSCode', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm']
2026-02-13 14:41:29 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435])
]
# Table: schools
[
(NCESSchool:TEXT, NCESSchool, Examples: [10546, 10947, 12283])
]

### ã€User Questionã€‘
List the top five schools, by descending order, from the highest to the lowest, the most number of Enrollment (Ages 5-17). Please give their NCES school identification number.

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
List the top five schools, by descending order, from the highest to the lowest, the most number of Enrollment (Ages 5-17). Please give their NCES school identification number.

```sql

2026-02-13 14:41:29 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:30 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.NCESSchool FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode ORDER BY T2.`Enrollment (Ages 5-17)` DESC LIMIT 5
2026-02-13 14:41:30 - DEBUG - [main.py:167] - SELECT T1.NCESSchool FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode ORDER BY T2.`Enrollment (Ages 5-17)` DESC LIMIT 5
2026-02-13 14:41:30 - WARNING - [evaluation.py:281] - [WARNING] Zero Rows Returned! SQL: SELECT T1.NCESSchool FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode ORDER BY T2.`Enrollment (Ages 5-17)` DESC LIMIT 5
2026-02-13 14:41:30 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.cdscode']
2026-02-13 14:41:30 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Row Count Mismatch: GT=5, Pred=0
2026-02-13 14:41:30 - DEBUG - [main.py:120] - Question: Which active district has the highest average score in Reading?
2026-02-13 14:41:30 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Which active district has the highest average score in Reading?
2026-02-13 14:41:31 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:31 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.IRC', 'satscores.AvgScrRead', 'schools.StreetAbr', 'frpm.District Name', 'frpm.CDSCode', 'frpm', 'frpm.District Type']
2026-02-13 14:41:31 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(District Name:TEXT, District Name),
(District Type:TEXT, District Type, Examples: [County Office of Education (COE)]),
(IRC:INTEGER, IRC, Examples: [1, 0])
]
# Table: satscores
[
(AvgScrRead:INTEGER, AvgScrRead, Examples: [418, 503, 397])
]
# Table: schools
[
(StreetAbr:TEXT, StreetAbr, Examples: [313 West Winton Ave.])
]

### ã€User Questionã€‘
Which active district has the highest average score in Reading?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Which active district has the highest average score in Reading?

```sql

2026-02-13 14:41:31 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:31 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT `District Name` FROM frpm WHERE IRC = 1 ORDER BY AvgScrRead DESC LIMIT 1

2026-02-13 14:41:31 - DEBUG - [main.py:167] - SELECT `District Name` FROM frpm WHERE IRC = 1 ORDER BY AvgScrRead DESC LIMIT 1
2026-02-13 14:41:32 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: AvgScrRead
[SQL: SELECT `District Name` FROM frpm WHERE IRC = 1 ORDER BY AvgScrRead DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT `District Name` FROM frpm WHERE IRC = 1 ORDER BY AvgScrRead DESC LIMIT 1
2026-02-13 14:41:32 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.statustype', 'satscores.cds', 'schools.district', 'schools.cdscode']
2026-02-13 14:41:32 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: AvgScrRead
[SQL: SELECT `District Name` FROM frpm WHERE IRC = 1 ORDER BY AvgScrRead DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:32 - DEBUG - [main.py:120] - Question: How many schools in merged Alameda have number of test takers less than 100?
2026-02-13 14:41:32 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: How many schools in merged Alameda have number of test takers less than 100?
2026-02-13 14:41:32 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:41:32 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.CDSCode', 'schools.DOC', 'schools', 'schools.GSoffered', 'schools.NCESDist', 'frpm.CDSCode', 'schools.GSserved', 'frpm']
2026-02-13 14:41:32 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(DOC:TEXT, DOC, Examples: [00, 31, 34]),
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7]),
(NCESDist:TEXT, NCESDist, Examples: [0691051, 0600002, 0600003])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
How many schools in merged Alameda have number of test takers less than 100?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
How many schools in merged Alameda have number of test takers less than 100?

```sql

2026-02-13 14:41:32 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:34 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.GSserved = '9-12' AND T1.`Number of test takers` < 100

2026-02-13 14:41:34 - DEBUG - [main.py:167] - SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.GSserved = '9-12' AND T1.`Number of test takers` < 100
2026-02-13 14:41:34 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.Number of test takers
[SQL: SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.GSserved = '9-12' AND T1.`Number of test takers` < 100]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.GSserved = '9-12' AND T1.`Number of test takers` < 100
2026-02-13 14:41:34 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.statustype', 'satscores.numtsttakr', 'satscores.cds', 'schools.county']
2026-02-13 14:41:34 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.Number of test takers
[SQL: SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.GSserved = '9-12' AND T1.`Number of test takers` < 100]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:34 - DEBUG - [main.py:120] - Question: Rank schools by their average score in Writing where the score is greater than 499, showing their charter numbers.
2026-02-13 14:41:34 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Rank schools by their average score in Writing where the score is greater than 499, showing their charter numbers.
2026-02-13 14:41:34 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:41:34 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['frpm.Charter School (Y/N)', 'schools.CDSCode', 'schools', 'schools.CharterNum', 'frpm.Charter School Number', 'frpm.CDSCode', 'frpm', 'schools.Charter']
2026-02-13 14:41:34 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter School (Y/N):INTEGER, Charter School (Y/N), Examples: [1, 0]),
(Charter School Number:TEXT, Charter School Number, Examples: [0728, 0811, 1049])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(Charter:INTEGER, Charter, Examples: [1, 0]),
(CharterNum:TEXT, CharterNum, Examples: [0728, 0811, 1049])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
Rank schools by their average score in Writing where the score is greater than 499, showing their charter numbers.

### ã€Reference Informationã€‘
Valid charter number means the number is not null

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Rank schools by their average score in Writing where the score is greater than 499, showing their charter numbers.

```sql

2026-02-13 14:41:34 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:36 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.CharterNum FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Writing Score` > 499 GROUP BY T1.CharterNum ORDER BY AVG(T2.`Writing Score`) DESC

2026-02-13 14:41:36 - DEBUG - [main.py:167] - SELECT T1.CharterNum FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Writing Score` > 499 GROUP BY T1.CharterNum ORDER BY AVG(T2.`Writing Score`) DESC
2026-02-13 14:41:36 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T2.Writing Score
[SQL: SELECT T1.CharterNum FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Writing Score` > 499 GROUP BY T1.CharterNum ORDER BY AVG(T2.`Writing Score`) DESC]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.CharterNum FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Writing Score` > 499 GROUP BY T1.CharterNum ORDER BY AVG(T2.`Writing Score`) DESC
2026-02-13 14:41:36 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.cds', 'satscores.avgscrwrite']
2026-02-13 14:41:36 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T2.Writing Score
[SQL: SELECT T1.CharterNum FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Writing Score` > 499 GROUP BY T1.CharterNum ORDER BY AVG(T2.`Writing Score`) DESC]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:36 - DEBUG - [main.py:120] - Question: How many schools in Fresno (directly funded) have number of test takers not more than 250?
2026-02-13 14:41:36 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: How many schools in Fresno (directly funded) have number of test takers not more than 250?
2026-02-13 14:41:37 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:41:37 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.CDSCode', 'frpm.Enrollment (K-12)', 'frpm.FRPM Count (K-12)', 'schools', 'frpm.FRPM Count (Ages 5-17)', 'frpm.School Code', 'frpm.CDSCode', 'frpm']
2026-02-13 14:41:37 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (K-12):REAL, Enrollment (K-12), Examples: [1087.0, 395.0, 244.0]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0]),
(FRPM Count (K-12):REAL, FRPM Count (K-12), Examples: [715.0, 186.0, 175.0]),
(School Code:TEXT, School Code, Examples: [0109835, 0112607, 0118489])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
How many schools in Fresno (directly funded) have number of test takers not more than 250?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
How many schools in Fresno (directly funded) have number of test takers not more than 250?

```sql

2026-02-13 14:41:37 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:39 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(T1.CDSCode) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`FRPM Count (K-12)` <= 250 AND T2.`County Name` = 'Fresno'

2026-02-13 14:41:39 - DEBUG - [main.py:167] - SELECT COUNT(T1.CDSCode) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`FRPM Count (K-12)` <= 250 AND T2.`County Name` = 'Fresno'
2026-02-13 14:41:39 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T2.County Name
[SQL: SELECT COUNT(T1.CDSCode) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`FRPM Count (K-12)` <= 250 AND T2.`County Name` = 'Fresno']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT COUNT(T1.CDSCode) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`FRPM Count (K-12)` <= 250 AND T2.`County Name` = 'Fresno'
2026-02-13 14:41:39 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.county name', 'satscores.numtsttakr', 'satscores.cds', 'frpm.charter funding type']
2026-02-13 14:41:39 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T2.County Name
[SQL: SELECT COUNT(T1.CDSCode) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`FRPM Count (K-12)` <= 250 AND T2.`County Name` = 'Fresno']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:39 - DEBUG - [main.py:120] - Question: What is the phone number of the school that has the highest average score in Math?
2026-02-13 14:41:39 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the phone number of the school that has the highest average score in Math?
2026-02-13 14:41:39 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:41:39 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.CDSCode', 'schools', 'schools.Phone', 'satscores.AvgScrMath', 'frpm.CDSCode', 'schools.GSserved', 'frpm', 'frpm.School Name']
2026-02-13 14:41:39 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: satscores
[
(AvgScrMath:INTEGER, AvgScrMath, Examples: [418, 546, 387])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7]),
(Phone:TEXT, Phone, Examples: [(510) 887-0152, (510) 596-8901, (510) 686-4131])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
What is the phone number of the school that has the highest average score in Math?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the phone number of the school that has the highest average score in Math?

```sql

2026-02-13 14:41:39 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:41 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.Phone FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY T2.AvgScrMath DESC LIMIT 1

2026-02-13 14:41:41 - DEBUG - [main.py:167] - SELECT T1.Phone FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY T2.AvgScrMath DESC LIMIT 1
2026-02-13 14:41:41 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T2.AvgScrMath
[SQL: SELECT T1.Phone FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY T2.AvgScrMath DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.Phone FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY T2.AvgScrMath DESC LIMIT 1
2026-02-13 14:41:41 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.cds']
2026-02-13 14:41:41 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T2.AvgScrMath
[SQL: SELECT T1.Phone FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY T2.AvgScrMath DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:41 - DEBUG - [main.py:120] - Question: How many schools in Amador which the Low Grade is 9 and the High Grade is 12?
2026-02-13 14:41:41 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: How many schools in Amador which the Low Grade is 9 and the High Grade is 12?
2026-02-13 14:41:41 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:41:41 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.CDSCode', 'schools.DOC', 'schools', 'schools.SOC', 'schools.StreetAbr', 'schools.GSoffered', 'frpm.CDSCode', 'frpm']
2026-02-13 14:41:41 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(DOC:TEXT, DOC, Examples: [00, 31, 34]),
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(SOC:TEXT, SOC, Examples: [65, 66, 60]),
(StreetAbr:TEXT, StreetAbr, Examples: [313 West Winton Ave.])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
How many schools in Amador which the Low Grade is 9 and the High Grade is 12?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
How many schools in Amador which the Low Grade is 9 and the High Grade is 12?

```sql

2026-02-13 14:41:41 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:42 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(*) FROM schools WHERE SOC = '9' AND `Low Grade` = '9' AND `High Grade` = '12'

2026-02-13 14:41:42 - DEBUG - [main.py:167] - SELECT COUNT(*) FROM schools WHERE SOC = '9' AND `Low Grade` = '9' AND `High Grade` = '12'
2026-02-13 14:41:42 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: Low Grade
[SQL: SELECT COUNT(*) FROM schools WHERE SOC = '9' AND `Low Grade` = '9' AND `High Grade` = '12']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT COUNT(*) FROM schools WHERE SOC = '9' AND `Low Grade` = '9' AND `High Grade` = '12'
2026-02-13 14:41:42 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.low grade', 'frpm.high grade', 'schools.county', 'frpm.school name']
2026-02-13 14:41:42 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: Low Grade
[SQL: SELECT COUNT(*) FROM schools WHERE SOC = '9' AND `Low Grade` = '9' AND `High Grade` = '12']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:42 - DEBUG - [main.py:120] - Question: In Los Angeles how many schools have more than 500 free meals but less than 700 free or reduced price meals for K-12?
2026-02-13 14:41:42 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: In Los Angeles how many schools have more than 500 free meals but less than 700 free or reduced price meals for K-12?
2026-02-13 14:41:43 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:41:43 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['frpm.Free Meal Count (K-12)', 'schools.CDSCode', 'schools', 'frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.CDSCode', 'frpm.Percent (%) Eligible Free (K-12)', 'frpm', 'frpm.Free Meal Count (Ages 5-17)']
2026-02-13 14:41:43 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Free Meal Count (Ages 5-17):REAL, Free Meal Count (Ages 5-17), Examples: [553.0, 182.0, 128.0]),
(Free Meal Count (K-12):REAL, Free Meal Count (K-12), Examples: [565.0, 186.0, 134.0]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098]),
(Percent (%) Eligible Free (K-12):REAL, Percent (%) Eligible Free (K-12), Examples: [0.519779208831647, 0.470886075949367, 0.549180327868853])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
In Los Angeles how many schools have more than 500 free meals but less than 700 free or reduced price meals for K-12?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
In Los Angeles how many schools have more than 500 free meals but less than 700 free or reduced price meals for K-12?

```sql

2026-02-13 14:41:43 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:45 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(DISTINCT T1.CDSCode) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`Free Meal Count (K-12)` > 500 AND T1.`Free Meal Count (K-12)` < 700

2026-02-13 14:41:45 - DEBUG - [main.py:167] - SELECT COUNT(DISTINCT T1.CDSCode) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`Free Meal Count (K-12)` > 500 AND T1.`Free Meal Count (K-12)` < 700
2026-02-13 14:41:45 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.county name', 'frpm.frpm count (k-12)']
2026-02-13 14:41:45 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:41:45 - DEBUG - [main.py:120] - Question: Which school in Contra Costa has the highest number of test takers?
2026-02-13 14:41:45 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Which school in Contra Costa has the highest number of test takers?
2026-02-13 14:41:45 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:41:45 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.CDSCode', 'schools.DOC', 'schools', 'schools.NCESSchool', 'schools.DOCType', 'schools.NCESDist', 'frpm.CDSCode', 'frpm']
2026-02-13 14:41:45 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(DOC:TEXT, DOC, Examples: [00, 31, 34]),
(DOCType:TEXT, DOCType, Examples: [County Office of Education (COE)]),
(NCESDist:TEXT, NCESDist, Examples: [0691051, 0600002, 0600003]),
(NCESSchool:TEXT, NCESSchool, Examples: [10546, 10947, 12283])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
Which school in Contra Costa has the highest number of test takers?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Which school in Contra Costa has the highest number of test takers?

```sql

2026-02-13 14:41:45 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:47 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.NCESSchool FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.DOCType = 'Contra Costa' ORDER BY T2.CDSCode DESC LIMIT 1

2026-02-13 14:41:47 - DEBUG - [main.py:167] - SELECT T1.NCESSchool FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.DOCType = 'Contra Costa' ORDER BY T2.CDSCode DESC LIMIT 1
2026-02-13 14:41:47 - WARNING - [evaluation.py:281] - [WARNING] Zero Rows Returned! SQL: SELECT T1.NCESSchool FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.DOCType = 'Contra Costa' ORDER BY T2.CDSCode DESC LIMIT 1
2026-02-13 14:41:47 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.numtsttakr', 'satscores.cname', 'satscores.sname']
2026-02-13 14:41:47 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Row Count Mismatch: GT=1, Pred=0
2026-02-13 14:41:47 - DEBUG - [main.py:120] - Question: List the names of schools with more than 30 difference in enrollements between K-12 and ages 5-17? Please also give the full street adress of the schools.
2026-02-13 14:41:47 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: List the names of schools with more than 30 difference in enrollements between K-12 and ages 5-17? Please also give the full street adress of the schools.
2026-02-13 14:41:48 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:48 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Enrollment (K-12)', 'frpm.FRPM Count (Ages 5-17)', 'frpm.Enrollment (Ages 5-17)', 'frpm.CDSCode', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm', 'schools.Street']
2026-02-13 14:41:48 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(Enrollment (K-12):REAL, Enrollment (K-12), Examples: [1087.0, 395.0, 244.0]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435])
]
# Table: schools
[
(Street:TEXT, Street, Examples: [313 West Winton Avenue])
]

### ã€User Questionã€‘
List the names of schools with more than 30 difference in enrollements between K-12 and ages 5-17? Please also give the full street adress of the schools.

### ã€Reference Informationã€‘
Diffrence in enrollement = `Enrollment (K-12)` - `Enrollment (Ages 5-17)`

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
List the names of schools with more than 30 difference in enrollements between K-12 and ages 5-17? Please also give the full street adress of the schools.

```sql

2026-02-13 14:41:48 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:50 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.`School Name`, T2.Street FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Enrollment (K-12) - Enrollment (Ages 5-17)` > 30

2026-02-13 14:41:50 - DEBUG - [main.py:167] - SELECT T1.`School Name`, T2.Street FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Enrollment (K-12) - Enrollment (Ages 5-17)` > 30
2026-02-13 14:41:50 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.School Name
[SQL: SELECT T1.`School Name`, T2.Street FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Enrollment (K-12) - Enrollment (Ages 5-17)` > 30]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.`School Name`, T2.Street FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Enrollment (K-12) - Enrollment (Ages 5-17)` > 30
2026-02-13 14:41:50 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.school', 'schools.cdscode']
2026-02-13 14:41:50 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.School Name
[SQL: SELECT T1.`School Name`, T2.Street FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Enrollment (K-12) - Enrollment (Ages 5-17)` > 30]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:50 - DEBUG - [main.py:120] - Question: Give the names of the schools with the percent eligible for free meals in K-12 is more than 0.1 and test takers whose test score is greater than or equal to 1500?
2026-02-13 14:41:50 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Give the names of the schools with the percent eligible for free meals in K-12 is more than 0.1 and test takers whose test score is greater than or equal to 1500?
2026-02-13 14:41:50 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:50 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.Percent (%) Eligible Free (K-12)', 'frpm.Free Meal Count (K-12)', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm']
2026-02-13 14:41:50 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Free Meal Count (K-12):REAL, Free Meal Count (K-12), Examples: [565.0, 186.0, 134.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435]),
(Percent (%) Eligible Free (K-12):REAL, Percent (%) Eligible Free (K-12), Examples: [0.519779208831647, 0.470886075949367, 0.549180327868853])
]

### ã€User Questionã€‘
Give the names of the schools with the percent eligible for free meals in K-12 is more than 0.1 and test takers whose test score is greater than or equal to 1500?

### ã€Reference Informationã€‘
Percent eligible for free meals = Free Meal Count (K-12) / Total (Enrollment (K-12)

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Give the names of the schools with the percent eligible for free meals in K-12 is more than 0.1 and test takers whose test score is greater than or equal to 1500?

```sql

2026-02-13 14:41:50 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:53 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.school_name FROM public_schooldistrict AS T1 INNER JOIN public_school AS T2 ON T1.district_id = T2.district_id INNER JOIN public_school_test_result AS T3 ON T2.school_id = T3.school_id WHERE T3.test_score >= 1500 AND T2.`percent eligible for free meals` > 0.1

2026-02-13 14:41:53 - DEBUG - [main.py:167] - SELECT T1.school_name FROM public_schooldistrict AS T1 INNER JOIN public_school AS T2 ON T1.district_id = T2.district_id INNER JOIN public_school_test_result AS T3 ON T2.school_id = T3.school_id WHERE T3.test_score >= 1500 AND T2.`percent eligible for free meals` > 0.1
2026-02-13 14:41:53 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: public_schooldistrict
[SQL: SELECT T1.school_name FROM public_schooldistrict AS T1 INNER JOIN public_school AS T2 ON T1.district_id = T2.district_id INNER JOIN public_school_test_result AS T3 ON T2.school_id = T3.school_id WHERE T3.test_score >= 1500 AND T2.`percent eligible for free meals` > 0.1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.school_name FROM public_schooldistrict AS T1 INNER JOIN public_school AS T2 ON T1.district_id = T2.district_id INNER JOIN public_school_test_result AS T3 ON T2.school_id = T3.school_id WHERE T3.test_score >= 1500 AND T2.`percent eligible for free meals` > 0.1
2026-02-13 14:41:53 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.school name', 'satscores.numge1500', 'satscores.cds', 'frpm.enrollment (k-12)']
2026-02-13 14:41:53 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: public_schooldistrict
[SQL: SELECT T1.school_name FROM public_schooldistrict AS T1 INNER JOIN public_school AS T2 ON T1.district_id = T2.district_id INNER JOIN public_school_test_result AS T3 ON T2.school_id = T3.school_id WHERE T3.test_score >= 1500 AND T2.`percent eligible for free meals` > 0.1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:53 - DEBUG - [main.py:120] - Question: Name schools in Riverside which the average of average math score for SAT is grater than 400, what is the funding type of these schools?
2026-02-13 14:41:53 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Name schools in Riverside which the average of average math score for SAT is grater than 400, what is the funding type of these schools?
2026-02-13 14:41:53 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:53 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.FundingType', 'schools.SOCType', 'frpm.School Type', 'frpm.Charter Funding Type', 'frpm.CDSCode', 'satscores.AvgScrMath', 'frpm']
2026-02-13 14:41:53 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter Funding Type:TEXT, Charter Funding Type, Examples: [Directly funded]),
(School Type:TEXT, School Type, Examples: [K-12 Schools (Public)])
]
# Table: satscores
[
(AvgScrMath:INTEGER, AvgScrMath, Examples: [418, 546, 387])
]
# Table: schools
[
(FundingType:TEXT, FundingType, Examples: [Directly funded]),
(SOCType:TEXT, SOCType, Examples: [K-12 Schools (Public)])
]

### ã€User Questionã€‘
Name schools in Riverside which the average of average math score for SAT is grater than 400, what is the funding type of these schools?

### ã€Reference Informationã€‘
Average of average math = sum(average math scores) / count(schools).

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Name schools in Riverside which the average of average math score for SAT is grater than 400, what is the funding type of these schools?

```sql

2026-02-13 14:41:53 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:56 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT DISTINCT T1.FundingType FROM schools AS T1 INNER JOIN satscores AS T2 ON T2.SchoolID = T1.SchoolID WHERE T1.SOCType = 'K-12 Schools (Public)' AND T1.`Location Type` = 'Riverside' GROUP BY T1.FundingType HAVING AVG(T2.AvgScrMath) > 400

2026-02-13 14:41:56 - DEBUG - [main.py:167] - SELECT DISTINCT T1.FundingType FROM schools AS T1 INNER JOIN satscores AS T2 ON T2.SchoolID = T1.SchoolID WHERE T1.SOCType = 'K-12 Schools (Public)' AND T1.`Location Type` = 'Riverside' GROUP BY T1.FundingType HAVING AVG(T2.AvgScrMath) > 400
2026-02-13 14:41:56 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.Location Type
[SQL: SELECT DISTINCT T1.FundingType FROM schools AS T1 INNER JOIN satscores AS T2 ON T2.SchoolID = T1.SchoolID WHERE T1.SOCType = 'K-12 Schools (Public)' AND T1.`Location Type` = 'Riverside' GROUP BY T1.FundingType HAVING AVG(T2.AvgScrMath) > 400]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT DISTINCT T1.FundingType FROM schools AS T1 INNER JOIN satscores AS T2 ON T2.SchoolID = T1.SchoolID WHERE T1.SOCType = 'K-12 Schools (Public)' AND T1.`Location Type` = 'Riverside' GROUP BY T1.FundingType HAVING AVG(T2.AvgScrMath) > 400
2026-02-13 14:41:56 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.district name', 'satscores.cds', 'satscores.sname']
2026-02-13 14:41:56 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.Location Type
[SQL: SELECT DISTINCT T1.FundingType FROM schools AS T1 INNER JOIN satscores AS T2 ON T2.SchoolID = T1.SchoolID WHERE T1.SOCType = 'K-12 Schools (Public)' AND T1.`Location Type` = 'Riverside' GROUP BY T1.FundingType HAVING AVG(T2.AvgScrMath) > 400]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:56 - DEBUG - [main.py:120] - Question: State the names and full communication address of high schools in Monterey which has more than 800 free or reduced price meals for ages 15-17?
2026-02-13 14:41:56 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: State the names and full communication address of high schools in Monterey which has more than 800 free or reduced price meals for ages 15-17?
2026-02-13 14:41:57 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:41:57 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.FRPM Count (Ages 5-17)', 'frpm.Free Meal Count (K-12)', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm', 'frpm.Free Meal Count (Ages 5-17)']
2026-02-13 14:41:57 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0]),
(Free Meal Count (Ages 5-17):REAL, Free Meal Count (Ages 5-17), Examples: [553.0, 182.0, 128.0]),
(Free Meal Count (K-12):REAL, Free Meal Count (K-12), Examples: [565.0, 186.0, 134.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435])
]

### ã€User Questionã€‘
State the names and full communication address of high schools in Monterey which has more than 800 free or reduced price meals for ages 15-17?

### ã€Reference Informationã€‘
Full communication address should include Street, City, State and zip code if any.

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
State the names and full communication address of high schools in Monterey which has more than 800 free or reduced price meals for ages 15-17?

```sql

2026-02-13 14:41:57 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:41:59 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.SchoolName, T1.Street, T1.City, T1.State, T1.ZipCode FROM public_schooldistrict AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.DistrictName = 'Monterey' AND T2.`Free Meal Count (Ages 15-17)` > 800

2026-02-13 14:41:59 - DEBUG - [main.py:167] - SELECT T1.SchoolName, T1.Street, T1.City, T1.State, T1.ZipCode FROM public_schooldistrict AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.DistrictName = 'Monterey' AND T2.`Free Meal Count (Ages 15-17)` > 800
2026-02-13 14:41:59 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: public_schooldistrict
[SQL: SELECT T1.SchoolName, T1.Street, T1.City, T1.State, T1.ZipCode FROM public_schooldistrict AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.DistrictName = 'Monterey' AND T2.`Free Meal Count (Ages 15-17)` > 800]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.SchoolName, T1.Street, T1.City, T1.State, T1.ZipCode FROM public_schooldistrict AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.DistrictName = 'Monterey' AND T2.`Free Meal Count (Ages 15-17)` > 800
2026-02-13 14:41:59 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.school type', 'schools.state', 'schools.zip', 'schools.county', 'schools.cdscode', 'schools.street', 'schools.city', 'frpm.school name']
2026-02-13 14:41:59 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: public_schooldistrict
[SQL: SELECT T1.SchoolName, T1.Street, T1.City, T1.State, T1.ZipCode FROM public_schooldistrict AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.DistrictName = 'Monterey' AND T2.`Free Meal Count (Ages 15-17)` > 800]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:41:59 - DEBUG - [main.py:120] - Question: What is the average score in writing for the schools that were opened after 1991 or closed before 2000? List the school names along with the score. Also, list the communication number of the schools if there is any.
2026-02-13 14:41:59 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the average score in writing for the schools that were opened after 1991 or closed before 2000? List the school names along with the score. Also, list the communication number of the schools if there is any.
2026-02-13 14:42:00 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:00 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.School', 'schools.GSoffered', 'satscores.AvgScrWrite', 'frpm.CDSCode', 'schools.GSserved', 'frpm', 'frpm.School Name']
2026-02-13 14:42:00 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: satscores
[
(AvgScrWrite:INTEGER, AvgScrWrite, Examples: [417, 505, 395])
]
# Table: schools
[
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7]),
(School:TEXT, School, Examples: [FAME Public Charter])
]

### ã€User Questionã€‘
What is the average score in writing for the schools that were opened after 1991 or closed before 2000? List the school names along with the score. Also, list the communication number of the schools if there is any.

### ã€Reference Informationã€‘
Communication number refers to phone number.

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the average score in writing for the schools that were opened after 1991 or closed before 2000? List the school names along with the score. Also, list the communication number of the schools if there is any.

```sql

2026-02-13 14:42:00 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:03 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT AVG(T1.AvgScrWrite) AS avg_score, T2.`School`, T2.`Phone Number` FROM satscores AS T1 INNER JOIN schools AS T2 ON T1.`School Name` = T2.School WHERE T2.`Year Opened` > 1991 OR T2.`Year Closed` < 2000 GROUP BY T2.`School`, T2.`Phone Number`
2026-02-13 14:42:03 - DEBUG - [main.py:167] - SELECT AVG(T1.AvgScrWrite) AS avg_score, T2.`School`, T2.`Phone Number` FROM satscores AS T1 INNER JOIN schools AS T2 ON T1.`School Name` = T2.School WHERE T2.`Year Opened` > 1991 OR T2.`Year Closed` < 2000 GROUP BY T2.`School`, T2.`Phone Number`
2026-02-13 14:42:03 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T2.Phone Number
[SQL: SELECT AVG(T1.AvgScrWrite) AS avg_score, T2.`School`, T2.`Phone Number` FROM satscores AS T1 INNER JOIN schools AS T2 ON T1.`School Name` = T2.School WHERE T2.`Year Opened` > 1991 OR T2.`Year Closed` < 2000 GROUP BY T2.`School`, T2.`Phone Number`]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT AVG(T1.AvgScrWrite) AS avg_score, T2.`School`, T2.`Phone Number` FROM satscores AS T1 INNER JOIN schools AS T2 ON T1.`School Name` = T2.School WHERE T2.`Year Opened` > 1991 OR T2.`Year Closed` < 2000 GROUP BY T2.`School`, T2.`Phone Number`
2026-02-13 14:42:03 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.cds', 'schools.cdscode', 'schools.phone', 'schools.closeddate', 'schools.opendate']
2026-02-13 14:42:03 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T2.Phone Number
[SQL: SELECT AVG(T1.AvgScrWrite) AS avg_score, T2.`School`, T2.`Phone Number` FROM satscores AS T1 INNER JOIN schools AS T2 ON T1.`School Name` = T2.School WHERE T2.`Year Opened` > 1991 OR T2.`Year Closed` < 2000 GROUP BY T2.`School`, T2.`Phone Number`]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:03 - DEBUG - [main.py:120] - Question: Consider the average difference between K-12 enrollment and 15-17 enrollment of schools that are locally funded, list the names and DOC type of schools which has a difference above this average.
2026-02-13 14:42:03 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Consider the average difference between K-12 enrollment and 15-17 enrollment of schools that are locally funded, list the names and DOC type of schools which has a difference above this average.
2026-02-13 14:42:04 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:04 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Enrollment (K-12)', 'schools.DOC', 'schools.FundingType', 'schools.DOCType', 'frpm.Enrollment (Ages 5-17)', 'frpm.CDSCode', 'frpm']
2026-02-13 14:42:04 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(Enrollment (K-12):REAL, Enrollment (K-12), Examples: [1087.0, 395.0, 244.0])
]
# Table: schools
[
(DOC:TEXT, DOC, Examples: [00, 31, 34]),
(DOCType:TEXT, DOCType, Examples: [County Office of Education (COE)]),
(FundingType:TEXT, FundingType, Examples: [Directly funded])
]

### ã€User Questionã€‘
Consider the average difference between K-12 enrollment and 15-17 enrollment of schools that are locally funded, list the names and DOC type of schools which has a difference above this average.

### ã€Reference Informationã€‘
Difference between K-12 enrollment and 15-17 enrollment can be computed by `Enrollment (K-12)` - `Enrollment (Ages 5-17)`

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Consider the average difference between K-12 enrollment and 15-17 enrollment of schools that are locally funded, list the names and DOC type of schools which has a difference above this average.

```sql

2026-02-13 14:42:04 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:08 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.`Name`, T1.DOCType FROM schools AS T1 JOIN frpm AS T2 ON T1.DOC = T2.CDSCode WHERE T1.FundingType = 'Locally funded' AND (T2.`Enrollment (K-12)` - T2.`Enrollment (Ages 5-17)`) > ( SELECT AVG(T2.`Enrollment (K-12)` - T2.`Enrollment (Ages 5-17)`) FROM frpm AS T2 JOIN schools AS T1 ON T1.DOC = T2.CDSCode WHERE T1.FundingType = 'Locally funded' )

2026-02-13 14:42:08 - DEBUG - [main.py:167] - SELECT T1.`Name`, T1.DOCType FROM schools AS T1 JOIN frpm AS T2 ON T1.DOC = T2.CDSCode WHERE T1.FundingType = 'Locally funded' AND (T2.`Enrollment (K-12)` - T2.`Enrollment (Ages 5-17)`) > ( SELECT AVG(T2.`Enrollment (K-12)` - T2.`Enrollment (Ages 5-17)`) FROM frpm AS T2 JOIN schools AS T1 ON T1.DOC = T2.CDSCode WHERE T1.FundingType = 'Locally funded' )
2026-02-13 14:42:08 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.Name
[SQL: SELECT T1.`Name`, T1.DOCType FROM schools AS T1 JOIN frpm AS T2 ON T1.DOC = T2.CDSCode WHERE T1.FundingType = 'Locally funded' AND (T2.`Enrollment (K-12)` - T2.`Enrollment (Ages 5-17)`) > ( SELECT AVG(T2.`Enrollment (K-12)` - T2.`Enrollment (Ages 5-17)`) FROM frpm AS T2 JOIN schools AS T1 ON T1.DOC = T2.CDSCode WHERE T1.FundingType = 'Locally funded' )]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.`Name`, T1.DOCType FROM schools AS T1 JOIN frpm AS T2 ON T1.DOC = T2.CDSCode WHERE T1.FundingType = 'Locally funded' AND (T2.`Enrollment (K-12)` - T2.`Enrollment (Ages 5-17)`) > ( SELECT AVG(T2.`Enrollment (K-12)` - T2.`Enrollment (Ages 5-17)`) FROM frpm AS T2 JOIN schools AS T1 ON T1.DOC = T2.CDSCode WHERE T1.FundingType = 'Locally funded' )
2026-02-13 14:42:08 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.school', 'schools.cdscode']
2026-02-13 14:42:08 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.Name
[SQL: SELECT T1.`Name`, T1.DOCType FROM schools AS T1 JOIN frpm AS T2 ON T1.DOC = T2.CDSCode WHERE T1.FundingType = 'Locally funded' AND (T2.`Enrollment (K-12)` - T2.`Enrollment (Ages 5-17)`) > ( SELECT AVG(T2.`Enrollment (K-12)` - T2.`Enrollment (Ages 5-17)`) FROM frpm AS T2 JOIN schools AS T1 ON T1.DOC = T2.CDSCode WHERE T1.FundingType = 'Locally funded' )]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:08 - DEBUG - [main.py:120] - Question: When did the first-through-twelfth-grade school with the largest enrollment open?
2026-02-13 14:42:08 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: When did the first-through-twelfth-grade school with the largest enrollment open?
2026-02-13 14:42:09 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:09 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.OpenDate', 'frpm.Enrollment (K-12)', 'frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.Enrollment (Ages 5-17)', 'frpm.CDSCode', 'frpm']
2026-02-13 14:42:09 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(Enrollment (K-12):REAL, Enrollment (K-12), Examples: [1087.0, 395.0, 244.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098])
]
# Table: schools
[
(OpenDate:DATE, OpenDate, Examples: [2005-08-29])
]

### ã€User Questionã€‘
When did the first-through-twelfth-grade school with the largest enrollment open?

### ã€Reference Informationã€‘
K-12 means First-through-twelfth-grade

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
When did the first-through-twelfth-grade school with the largest enrollment open?

```sql

2026-02-13 14:42:09 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:09 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT `OpenDate` FROM schools ORDER BY `Enrollment (K-12)` DESC LIMIT 1

2026-02-13 14:42:09 - DEBUG - [main.py:167] - SELECT `OpenDate` FROM schools ORDER BY `Enrollment (K-12)` DESC LIMIT 1
2026-02-13 14:42:09 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: Enrollment (K-12)
[SQL: SELECT `OpenDate` FROM schools ORDER BY `Enrollment (K-12)` DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT `OpenDate` FROM schools ORDER BY `Enrollment (K-12)` DESC LIMIT 1
2026-02-13 14:42:09 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.cdscode']
2026-02-13 14:42:09 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: Enrollment (K-12)
[SQL: SELECT `OpenDate` FROM schools ORDER BY `Enrollment (K-12)` DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:09 - DEBUG - [main.py:120] - Question: Which cities have the top 5 lowest enrollment number for students in grades 1 through 12?
2026-02-13 14:42:09 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Which cities have the top 5 lowest enrollment number for students in grades 1 through 12?
2026-02-13 14:42:10 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:10 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'frpm.Enrollment (K-12)', 'frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Enrollment (Ages 5-17)', 'satscores.enroll12', 'frpm.Percent (%) Eligible Free (K-12)', 'frpm']
2026-02-13 14:42:10 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(Enrollment (K-12):REAL, Enrollment (K-12), Examples: [1087.0, 395.0, 244.0]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098]),
(Percent (%) Eligible Free (K-12):REAL, Percent (%) Eligible Free (K-12), Examples: [0.519779208831647, 0.470886075949367, 0.549180327868853])
]
# Table: satscores
[
(enroll12:INTEGER, enroll12, Examples: [398, 62, 75])
]

### ã€User Questionã€‘
Which cities have the top 5 lowest enrollment number for students in grades 1 through 12?

### ã€Reference Informationã€‘
K-12 refers to students in grades 1 through 12.

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Which cities have the top 5 lowest enrollment number for students in grades 1 through 12?

```sql

2026-02-13 14:42:10 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:10 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT city FROM frpm ORDER BY `Enrollment (K-12)` ASC LIMIT 5
2026-02-13 14:42:10 - DEBUG - [main.py:167] - SELECT city FROM frpm ORDER BY `Enrollment (K-12)` ASC LIMIT 5
2026-02-13 14:42:10 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: city
[SQL: SELECT city FROM frpm ORDER BY `Enrollment (K-12)` ASC LIMIT 5]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT city FROM frpm ORDER BY `Enrollment (K-12)` ASC LIMIT 5
2026-02-13 14:42:10 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.city', 'schools.cdscode']
2026-02-13 14:42:10 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: city
[SQL: SELECT city FROM frpm ORDER BY `Enrollment (K-12)` ASC LIMIT 5]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:10 - DEBUG - [main.py:120] - Question: What is the eligible free rate of the 10th and 11th schools with the highest enrolment for students in grades 1 through 12?
2026-02-13 14:42:10 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the eligible free rate of the 10th and 11th schools with the highest enrolment for students in grades 1 through 12?
2026-02-13 14:42:11 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:11 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Free Meal Count (K-12)', 'frpm.CDSCode', 'frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.Percent (%) Eligible Free (K-12)', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm']
2026-02-13 14:42:11 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Free Meal Count (K-12):REAL, Free Meal Count (K-12), Examples: [565.0, 186.0, 134.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435]),
(Percent (%) Eligible Free (K-12):REAL, Percent (%) Eligible Free (K-12), Examples: [0.519779208831647, 0.470886075949367, 0.549180327868853])
]

### ã€User Questionã€‘
What is the eligible free rate of the 10th and 11th schools with the highest enrolment for students in grades 1 through 12?

### ã€Reference Informationã€‘
K-12 refers to students in grades 1 through 12; Eligible free rate for K-12 = `Free Meal Count (K-12)` / `Enrollment (K-12)`

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the eligible free rate of the 10th and 11th schools with the highest enrolment for students in grades 1 through 12?

```sql

2026-02-13 14:42:11 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:12 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT `Percent (%) Eligible Free (K-12)` FROM frpm ORDER BY `Enrollment (K-12)` DESC LIMIT 10, 2
2026-02-13 14:42:12 - DEBUG - [main.py:167] - SELECT `Percent (%) Eligible Free (K-12)` FROM frpm ORDER BY `Enrollment (K-12)` DESC LIMIT 10, 2
2026-02-13 14:42:12 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.enrollment (k-12)']
2026-02-13 14:42:12 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:42:12 - DEBUG - [main.py:120] - Question: What is the eligible free or reduced price meal rate for the top 5 schools in grades 1-12 with the highest free or reduced price meal count of the schools with the ownership code 66?
2026-02-13 14:42:12 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the eligible free or reduced price meal rate for the top 5 schools in grades 1-12 with the highest free or reduced price meal count of the schools with the ownership code 66?
2026-02-13 14:42:13 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:13 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Free Meal Count (K-12)', 'frpm.CDSCode', 'frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.Percent (%) Eligible Free (K-12)', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm']
2026-02-13 14:42:13 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Free Meal Count (K-12):REAL, Free Meal Count (K-12), Examples: [565.0, 186.0, 134.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435]),
(Percent (%) Eligible Free (K-12):REAL, Percent (%) Eligible Free (K-12), Examples: [0.519779208831647, 0.470886075949367, 0.549180327868853])
]

### ã€User Questionã€‘
What is the eligible free or reduced price meal rate for the top 5 schools in grades 1-12 with the highest free or reduced price meal count of the schools with the ownership code 66?

### ã€Reference Informationã€‘
grades 1-12 means K-12; Eligible free or reduced price meal rate for K-12 = `FRPM Count (K-12)` / `Enrollment (K-12)`

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the eligible free or reduced price meal rate for the top 5 schools in grades 1-12 with the highest free or reduced price meal count of the schools with the ownership code 66?

```sql

2026-02-13 14:42:13 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:16 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT (T1.`Free Meal Count (K-12)`) / T1.`Enrollment (K-12)` AS `Eligible Free or Reduced Price Meal Rate` FROM frpm AS T1 WHERE T1.CDSCode IN ( SELECT CDSCode FROM frpm WHERE `Ownership Code` = 66 ORDER BY `Free Meal Count (K-12)` DESC LIMIT 5 ) ORDER BY `Eligible Free or Reduced Price Meal Rate` DESC LIMIT 5
2026-02-13 14:42:16 - DEBUG - [main.py:167] - SELECT (T1.`Free Meal Count (K-12)`) / T1.`Enrollment (K-12)` AS `Eligible Free or Reduced Price Meal Rate` FROM frpm AS T1 WHERE T1.CDSCode IN ( SELECT CDSCode FROM frpm WHERE `Ownership Code` = 66 ORDER BY `Free Meal Count (K-12)` DESC LIMIT 5 ) ORDER BY `Eligible Free or Reduced Price Meal Rate` DESC LIMIT 5
2026-02-13 14:42:16 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: Ownership Code
[SQL: SELECT (T1.`Free Meal Count (K-12)`) / T1.`Enrollment (K-12)` AS `Eligible Free or Reduced Price Meal Rate` FROM frpm AS T1 WHERE T1.CDSCode IN ( SELECT CDSCode FROM frpm WHERE `Ownership Code` = 66 ORDER BY `Free Meal Count (K-12)` DESC LIMIT 5 ) ORDER BY `Eligible Free or Reduced Price Meal Rate` DESC LIMIT 5]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT (T1.`Free Meal Count (K-12)`) / T1.`Enrollment (K-12)` AS `Eligible Free or Reduced Price Meal Rate` FROM frpm AS T1 WHERE T1.CDSCode IN ( SELECT CDSCode FROM frpm WHERE `Ownership Code` = 66 ORDER BY `Free Meal Count (K-12)` DESC LIMIT 5 ) ORDER BY `Eligible Free or Reduced Price Meal Rate` DESC LIMIT 5
2026-02-13 14:42:16 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.cdscode', 'schools.soc', 'frpm.frpm count (k-12)', 'frpm.enrollment (k-12)']
2026-02-13 14:42:16 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: Ownership Code
[SQL: SELECT (T1.`Free Meal Count (K-12)`) / T1.`Enrollment (K-12)` AS `Eligible Free or Reduced Price Meal Rate` FROM frpm AS T1 WHERE T1.CDSCode IN ( SELECT CDSCode FROM frpm WHERE `Ownership Code` = 66 ORDER BY `Free Meal Count (K-12)` DESC LIMIT 5 ) ORDER BY `Eligible Free or Reduced Price Meal Rate` DESC LIMIT 5]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:16 - DEBUG - [main.py:120] - Question: If there are any, what are the websites address of the schools with a free meal count of 1,900-2,000 to students aged 5-17? Include the name of the school.
2026-02-13 14:42:16 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: If there are any, what are the websites address of the schools with a free meal count of 1,900-2,000 to students aged 5-17? Include the name of the school.
2026-02-13 14:42:17 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:17 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.FRPM Count (Ages 5-17)', 'frpm.Free Meal Count (K-12)', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm', 'frpm.Free Meal Count (Ages 5-17)']
2026-02-13 14:42:17 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0]),
(Free Meal Count (Ages 5-17):REAL, Free Meal Count (Ages 5-17), Examples: [553.0, 182.0, 128.0]),
(Free Meal Count (K-12):REAL, Free Meal Count (K-12), Examples: [565.0, 186.0, 134.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435])
]

### ã€User Questionã€‘
If there are any, what are the websites address of the schools with a free meal count of 1,900-2,000 to students aged 5-17? Include the name of the school.

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
If there are any, what are the websites address of the schools with a free meal count of 1,900-2,000 to students aged 5-17? Include the name of the school.

```sql

2026-02-13 14:42:17 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:20 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.SchoolName, T2.`Website Address` FROM public_schooldistrict AS T1 INNER JOIN public_school AS T2 ON T1.DistrictID = T2.DistrictID INNER JOIN frpm AS T3 ON T2.CDSCode = T3.CDSCode WHERE T3.`Free Meal Count (Ages 5-17)` BETWEEN 1900 AND 2000

2026-02-13 14:42:20 - DEBUG - [main.py:167] - SELECT T1.SchoolName, T2.`Website Address` FROM public_schooldistrict AS T1 INNER JOIN public_school AS T2 ON T1.DistrictID = T2.DistrictID INNER JOIN frpm AS T3 ON T2.CDSCode = T3.CDSCode WHERE T3.`Free Meal Count (Ages 5-17)` BETWEEN 1900 AND 2000
2026-02-13 14:42:20 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: public_schooldistrict
[SQL: SELECT T1.SchoolName, T2.`Website Address` FROM public_schooldistrict AS T1 INNER JOIN public_school AS T2 ON T1.DistrictID = T2.DistrictID INNER JOIN frpm AS T3 ON T2.CDSCode = T3.CDSCode WHERE T3.`Free Meal Count (Ages 5-17)` BETWEEN 1900 AND 2000]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.SchoolName, T2.`Website Address` FROM public_schooldistrict AS T1 INNER JOIN public_school AS T2 ON T1.DistrictID = T2.DistrictID INNER JOIN frpm AS T3 ON T2.CDSCode = T3.CDSCode WHERE T3.`Free Meal Count (Ages 5-17)` BETWEEN 1900 AND 2000
2026-02-13 14:42:20 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.school name', 'schools.website', 'schools.cdscode']
2026-02-13 14:42:20 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: public_schooldistrict
[SQL: SELECT T1.SchoolName, T2.`Website Address` FROM public_schooldistrict AS T1 INNER JOIN public_school AS T2 ON T1.DistrictID = T2.DistrictID INNER JOIN frpm AS T3 ON T2.CDSCode = T3.CDSCode WHERE T3.`Free Meal Count (Ages 5-17)` BETWEEN 1900 AND 2000]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:20 - DEBUG - [main.py:120] - Question: What is the free rate for students between the ages of 5 and 17 at the school run by Kacey Gibson?
2026-02-13 14:42:20 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the free rate for students between the ages of 5 and 17 at the school run by Kacey Gibson?
2026-02-13 14:42:20 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:20 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.Enrollment (Ages 5-17)', 'frpm.Percent (%) Eligible Free (K-12)', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm', 'frpm.Free Meal Count (Ages 5-17)']
2026-02-13 14:42:20 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(Free Meal Count (Ages 5-17):REAL, Free Meal Count (Ages 5-17), Examples: [553.0, 182.0, 128.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435]),
(Percent (%) Eligible Free (K-12):REAL, Percent (%) Eligible Free (K-12), Examples: [0.519779208831647, 0.470886075949367, 0.549180327868853])
]

### ã€User Questionã€‘
What is the free rate for students between the ages of 5 and 17 at the school run by Kacey Gibson?

### ã€Reference Informationã€‘
Eligible free rates for students aged 5-17 = `Free Meal Count (Ages 5-17)` / `Enrollment (Ages 5-17)`

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the free rate for students between the ages of 5 and 17 at the school run by Kacey Gibson?

```sql

2026-02-13 14:42:20 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:22 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT (T1.`Free Meal Count (Ages 5-17)` / T1.`Enrollment (Ages 5-17)`) AS free_rate FROM frpm AS T1 JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.school_name = 'Kacey Gibson'
2026-02-13 14:42:22 - DEBUG - [main.py:167] - SELECT (T1.`Free Meal Count (Ages 5-17)` / T1.`Enrollment (Ages 5-17)`) AS free_rate FROM frpm AS T1 JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.school_name = 'Kacey Gibson'
2026-02-13 14:42:22 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T2.school_name
[SQL: SELECT (T1.`Free Meal Count (Ages 5-17)` / T1.`Enrollment (Ages 5-17)`) AS free_rate FROM frpm AS T1 JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.school_name = 'Kacey Gibson']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT (T1.`Free Meal Count (Ages 5-17)` / T1.`Enrollment (Ages 5-17)`) AS free_rate FROM frpm AS T1 JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.school_name = 'Kacey Gibson'
2026-02-13 14:42:22 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.admlname1', 'schools.admfname1', 'schools.cdscode']
2026-02-13 14:42:22 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T2.school_name
[SQL: SELECT (T1.`Free Meal Count (Ages 5-17)` / T1.`Enrollment (Ages 5-17)`) AS free_rate FROM frpm AS T1 JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.school_name = 'Kacey Gibson']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:22 - DEBUG - [main.py:120] - Question: What is the administrator's email address of the chartered school with the fewest students enrolled in grades 1 through 12?
2026-02-13 14:42:22 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the administrator's email address of the chartered school with the fewest students enrolled in grades 1 through 12?
2026-02-13 14:42:23 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:23 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Charter School (Y/N)', 'frpm.Enrollment (K-12)', 'schools.AdmEmail1', 'frpm.CDSCode', 'schools.AdmEmail3', 'schools.AdmEmail2', 'frpm']
2026-02-13 14:42:23 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter School (Y/N):INTEGER, Charter School (Y/N), Examples: [1, 0]),
(Enrollment (K-12):REAL, Enrollment (K-12), Examples: [1087.0, 395.0, 244.0])
]
# Table: schools
[
(AdmEmail1:TEXT, AdmEmail1),
(AdmEmail2:TEXT, AdmEmail2),
(AdmEmail3:TEXT, AdmEmail3)
]

### ã€User Questionã€‘
What is the administrator's email address of the chartered school with the fewest students enrolled in grades 1 through 12?

### ã€Reference Informationã€‘
Charted school means `Charter School (Y/N)` = 1 in the table frpm; Students enrolled in grades 1 through 12 refers to `Enrollment (K-12)`

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the administrator's email address of the chartered school with the fewest students enrolled in grades 1 through 12?

```sql

2026-02-13 14:42:23 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:25 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.AdmEmail1 FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.schoolid = T2.CDSCode WHERE T2.`Charter School (Y/N)` = 1 ORDER BY T2.`Enrollment (K-12)` ASC LIMIT 1

2026-02-13 14:42:25 - DEBUG - [main.py:167] - SELECT T1.AdmEmail1 FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.schoolid = T2.CDSCode WHERE T2.`Charter School (Y/N)` = 1 ORDER BY T2.`Enrollment (K-12)` ASC LIMIT 1
2026-02-13 14:42:25 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.schoolid
[SQL: SELECT T1.AdmEmail1 FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.schoolid = T2.CDSCode WHERE T2.`Charter School (Y/N)` = 1 ORDER BY T2.`Enrollment (K-12)` ASC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.AdmEmail1 FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.schoolid = T2.CDSCode WHERE T2.`Charter School (Y/N)` = 1 ORDER BY T2.`Enrollment (K-12)` ASC LIMIT 1
2026-02-13 14:42:25 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.cdscode']
2026-02-13 14:42:25 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.schoolid
[SQL: SELECT T1.AdmEmail1 FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.schoolid = T2.CDSCode WHERE T2.`Charter School (Y/N)` = 1 ORDER BY T2.`Enrollment (K-12)` ASC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:25 - DEBUG - [main.py:120] - Question: Under whose administration is the school with the highest number of students scoring 1500 or more on the SAT? Indicate their full names.
2026-02-13 14:42:25 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Under whose administration is the school with the highest number of students scoring 1500 or more on the SAT? Indicate their full names.
2026-02-13 14:42:25 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:25 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.AdmLName1', 'schools.AdmLName2', 'satscores.NumGE1500', 'schools.AdmLName3', 'frpm.CDSCode', 'frpm', 'schools.AdmFName1']
2026-02-13 14:42:25 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: satscores
[
(NumGE1500:INTEGER, NumGE1500, Examples: [14, 9, 5])
]
# Table: schools
[
(AdmFName1:TEXT, AdmFName1, Examples: [L Karen, Laura, Clifford]),
(AdmLName1:TEXT, AdmLName1, Examples: [Monroe, Robell, Thompson]),
(AdmLName2:TEXT, AdmLName2, Examples: [Tsang, Koelling, Moore]),
(AdmLName3:TEXT, AdmLName3, Examples: [Sarratore, Munoz, Chang])
]

### ã€User Questionã€‘
Under whose administration is the school with the highest number of students scoring 1500 or more on the SAT? Indicate their full names.

### ã€Reference Informationã€‘
full name means first name, last name; There are at most 3 administrators for each school; SAT Scores are greater or equal to 1500 refers to NumGE1500

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Under whose administration is the school with the highest number of students scoring 1500 or more on the SAT? Indicate their full names.

```sql

2026-02-13 14:42:25 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:29 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT DISTINCT AdmFName1, AdmLName1, AdmFName2, AdmLName2, AdmFName3, AdmLName3 FROM schools WHERE AdmFName1 IS NOT NULL AND AdmLName1 IS NOT NULL AND AdmFName2 IS NOT NULL AND AdmLName2 IS NOT NULL AND AdmFName3 IS NOT NULL AND AdmLName3 IS NOT NULL ORDER BY (SELECT SUM(NumGE1500) FROM satscores) DESC LIMIT 1

2026-02-13 14:42:29 - DEBUG - [main.py:167] - SELECT DISTINCT AdmFName1, AdmLName1, AdmFName2, AdmLName2, AdmFName3, AdmLName3 FROM schools WHERE AdmFName1 IS NOT NULL AND AdmLName1 IS NOT NULL AND AdmFName2 IS NOT NULL AND AdmLName2 IS NOT NULL AND AdmFName3 IS NOT NULL AND AdmLName3 IS NOT NULL ORDER BY (SELECT SUM(NumGE1500) FROM satscores) DESC LIMIT 1
2026-02-13 14:42:29 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.cds', 'schools.admfname2', 'schools.admfname3', 'schools.cdscode']
2026-02-13 14:42:29 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:42:29 - DEBUG - [main.py:120] - Question: What is the complete address of the school with the lowest excellence rate? Indicate the Street, City, Zip and State.
2026-02-13 14:42:29 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the complete address of the school with the lowest excellence rate? Indicate the Street, City, Zip and State.
2026-02-13 14:42:29 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:29 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.Zip', 'schools.StreetAbr', 'schools.State', 'schools.City', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:42:29 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(City:TEXT, City, Examples: [Hayward, Newark, Oakland]),
(State:TEXT, State, Examples: [CA]),
(StreetAbr:TEXT, StreetAbr, Examples: [313 West Winton Ave.]),
(Zip:TEXT, Zip, Examples: [94544-1136, 94560-5359, 94612-3355])
]

### ã€User Questionã€‘
What is the complete address of the school with the lowest excellence rate? Indicate the Street, City, Zip and State.

### ã€Reference Informationã€‘
Execellence Rate = NumGE1500 / NumTstTakr; complete address has Street, City, State, Zip code

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the complete address of the school with the lowest excellence rate? Indicate the Street, City, Zip and State.

```sql

2026-02-13 14:42:30 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:31 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT StreetAbr, City, Zip, State FROM schools ORDER BY (SELECT CAST(SUM(CASE WHEN NumGE1500 > 0 THEN 1 ELSE 0 END) AS REAL) / SUM(NumTstTkr) FROM frpm) LIMIT 1
2026-02-13 14:42:31 - DEBUG - [main.py:167] - SELECT StreetAbr, City, Zip, State FROM schools ORDER BY (SELECT CAST(SUM(CASE WHEN NumGE1500 > 0 THEN 1 ELSE 0 END) AS REAL) / SUM(NumTstTkr) FROM frpm) LIMIT 1
2026-02-13 14:42:31 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: NumTstTkr
[SQL: SELECT StreetAbr, City, Zip, State FROM schools ORDER BY (SELECT CAST(SUM(CASE WHEN NumGE1500 > 0 THEN 1 ELSE 0 END) AS REAL) / SUM(NumTstTkr) FROM frpm) LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT StreetAbr, City, Zip, State FROM schools ORDER BY (SELECT CAST(SUM(CASE WHEN NumGE1500 > 0 THEN 1 ELSE 0 END) AS REAL) / SUM(NumTstTkr) FROM frpm) LIMIT 1
2026-02-13 14:42:31 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.numge1500', 'satscores.cds', 'satscores.numtsttakr', 'schools.cdscode', 'schools.street']
2026-02-13 14:42:31 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: NumTstTkr
[SQL: SELECT StreetAbr, City, Zip, State FROM schools ORDER BY (SELECT CAST(SUM(CASE WHEN NumGE1500 > 0 THEN 1 ELSE 0 END) AS REAL) / SUM(NumTstTkr) FROM frpm) LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:31 - DEBUG - [main.py:120] - Question: What are the webpages for the Los Angeles County school that has between 2,000 and 3,000 test takers?
2026-02-13 14:42:31 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What are the webpages for the Los Angeles County school that has between 2,000 and 3,000 test takers?
2026-02-13 14:42:32 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:32 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Charter School (Y/N)', 'frpm.CDSCode', 'schools.School', 'schools.NCESSchool', 'schools.City', 'schools.Website', 'frpm']
2026-02-13 14:42:32 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter School (Y/N):INTEGER, Charter School (Y/N), Examples: [1, 0])
]
# Table: schools
[
(City:TEXT, City, Examples: [Hayward, Newark, Oakland]),
(NCESSchool:TEXT, NCESSchool, Examples: [10546, 10947, 12283]),
(School:TEXT, School, Examples: [FAME Public Charter]),
(Website:TEXT, Website, Examples: [www.acoe.org])
]

### ã€User Questionã€‘
What are the webpages for the Los Angeles County school that has between 2,000 and 3,000 test takers?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What are the webpages for the Los Angeles County school that has between 2,000 and 3,000 test takers?

```sql

2026-02-13 14:42:32 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:34 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.Website FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T1.City = 'Los Angeles' AND T2.`Charter School (Y/N)` = 0 AND T1.`# of Students` BETWEEN 2000 AND 3000

2026-02-13 14:42:34 - DEBUG - [main.py:167] - SELECT T1.Website FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T1.City = 'Los Angeles' AND T2.`Charter School (Y/N)` = 0 AND T1.`# of Students` BETWEEN 2000 AND 3000
2026-02-13 14:42:34 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.# of Students
[SQL: SELECT T1.Website FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T1.City = 'Los Angeles' AND T2.`Charter School (Y/N)` = 0 AND T1.`# of Students` BETWEEN 2000 AND 3000]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.Website FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T1.City = 'Los Angeles' AND T2.`Charter School (Y/N)` = 0 AND T1.`# of Students` BETWEEN 2000 AND 3000
2026-02-13 14:42:34 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.numtsttakr', 'satscores.cds', 'schools.county', 'schools.cdscode']
2026-02-13 14:42:34 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.# of Students
[SQL: SELECT T1.Website FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T1.City = 'Los Angeles' AND T2.`Charter School (Y/N)` = 0 AND T1.`# of Students` BETWEEN 2000 AND 3000]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:34 - DEBUG - [main.py:120] - Question: What is the average number of test takers from Fresno schools that opened between 1/1/1980 and 12/31/1980?
2026-02-13 14:42:34 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the average number of test takers from Fresno schools that opened between 1/1/1980 and 12/31/1980?
2026-02-13 14:42:35 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 6
2026-02-13 14:42:35 - DEBUG - [pipeline.py:349] - Retrieved Nodes (6): ['frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.FRPM Count (Ages 5-17)', 'frpm.Enrollment (Ages 5-17)', 'frpm.CDSCode', 'frpm']
2026-02-13 14:42:35 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098])
]

### ã€User Questionã€‘
What is the average number of test takers from Fresno schools that opened between 1/1/1980 and 12/31/1980?

### ã€Reference Informationã€‘
between 1/1/1980 and 12/31/1980 means the year = 1980

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the average number of test takers from Fresno schools that opened between 1/1/1980 and 12/31/1980?

```sql

2026-02-13 14:42:35 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:36 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT AVG(`Number of Test Takers`) FROM `fresno_public_schoo` WHERE `Year` = 1980

2026-02-13 14:42:36 - DEBUG - [main.py:167] - SELECT AVG(`Number of Test Takers`) FROM `fresno_public_schoo` WHERE `Year` = 1980
2026-02-13 14:42:36 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: fresno_public_schoo
[SQL: SELECT AVG(`Number of Test Takers`) FROM `fresno_public_schoo` WHERE `Year` = 1980]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT AVG(`Number of Test Takers`) FROM `fresno_public_schoo` WHERE `Year` = 1980
2026-02-13 14:42:36 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.cds', 'satscores.numtsttakr', 'schools.county', 'schools.cdscode', 'schools.opendate']
2026-02-13 14:42:36 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: fresno_public_schoo
[SQL: SELECT AVG(`Number of Test Takers`) FROM `fresno_public_schoo` WHERE `Year` = 1980]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:36 - DEBUG - [main.py:120] - Question: What is the telephone number for the school with the lowest average score in reading in Fresno Unified?
2026-02-13 14:42:36 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the telephone number for the school with the lowest average score in reading in Fresno Unified?
2026-02-13 14:42:36 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 6
2026-02-13 14:42:36 - DEBUG - [pipeline.py:349] - Retrieved Nodes (6): ['frpm.Low Grade', 'frpm.School Type', 'frpm.School Code', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:42:36 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Low Grade:TEXT, Low Grade, Examples: [K, 9, 1]),
(School Code:TEXT, School Code, Examples: [0109835, 0112607, 0118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter]),
(School Type:TEXT, School Type, Examples: [K-12 Schools (Public)])
]

### ã€User Questionã€‘
What is the telephone number for the school with the lowest average score in reading in Fresno Unified?

### ã€Reference Informationã€‘
Fresno Unified is a name of district;

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the telephone number for the school with the lowest average score in reading in Fresno Unified?

```sql

2026-02-13 14:42:36 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:38 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.`Telephone Number` FROM frpm AS T1 INNER JOIN `california schools` AS T2 ON T1.`CDSCode` = T2.`CDS Code` WHERE T2.District = 'Fresno Unified' ORDER BY T1.`Average Score in Reading` ASC LIMIT 1

2026-02-13 14:42:38 - DEBUG - [main.py:167] - SELECT T1.`Telephone Number` FROM frpm AS T1 INNER JOIN `california schools` AS T2 ON T1.`CDSCode` = T2.`CDS Code` WHERE T2.District = 'Fresno Unified' ORDER BY T1.`Average Score in Reading` ASC LIMIT 1
2026-02-13 14:42:38 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: california schools
[SQL: SELECT T1.`Telephone Number` FROM frpm AS T1 INNER JOIN `california schools` AS T2 ON T1.`CDSCode` = T2.`CDS Code` WHERE T2.District = 'Fresno Unified' ORDER BY T1.`Average Score in Reading` ASC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.`Telephone Number` FROM frpm AS T1 INNER JOIN `california schools` AS T2 ON T1.`CDSCode` = T2.`CDS Code` WHERE T2.District = 'Fresno Unified' ORDER BY T1.`Average Score in Reading` ASC LIMIT 1
2026-02-13 14:42:38 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.cds', 'satscores.avgscrread', 'schools.cdscode', 'schools.phone', 'schools.district']
2026-02-13 14:42:38 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: california schools
[SQL: SELECT T1.`Telephone Number` FROM frpm AS T1 INNER JOIN `california schools` AS T2 ON T1.`CDSCode` = T2.`CDS Code` WHERE T2.District = 'Fresno Unified' ORDER BY T1.`Average Score in Reading` ASC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:38 - DEBUG - [main.py:120] - Question: List the names of virtual schools that are among the top 5 in their respective counties based on average reading scores.
2026-02-13 14:42:38 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: List the names of virtual schools that are among the top 5 in their respective counties based on average reading scores.
2026-02-13 14:42:39 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:39 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.CDSCode', 'schools', 'schools.NCESSchool', 'schools.Virtual', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:42:39 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(NCESSchool:TEXT, NCESSchool, Examples: [10546, 10947, 12283]),
(Virtual:TEXT, Virtual, Examples: [P, N, F])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
List the names of virtual schools that are among the top 5 in their respective counties based on average reading scores.

### ã€Reference Informationã€‘
Exclusively virtual refers to Virtual = 'F'; respective counties means PARTITION BY County

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
List the names of virtual schools that are among the top 5 in their respective counties based on average reading scores.

```sql

2026-02-13 14:42:39 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:41 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.`School Name` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.Virtual = 'F' ORDER BY T1.`County`, T1.`Average Reading Score` DESC LIMIT 5

2026-02-13 14:42:41 - DEBUG - [main.py:167] - SELECT T1.`School Name` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.Virtual = 'F' ORDER BY T1.`County`, T1.`Average Reading Score` DESC LIMIT 5
2026-02-13 14:42:41 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.County
[SQL: SELECT T1.`School Name` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.Virtual = 'F' ORDER BY T1.`County`, T1.`Average Reading Score` DESC LIMIT 5]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.`School Name` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.Virtual = 'F' ORDER BY T1.`County`, T1.`Average Reading Score` DESC LIMIT 5
2026-02-13 14:42:41 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.avgscrread', 'schools.school', 'satscores.cds', 'schools.county']
2026-02-13 14:42:41 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.County
[SQL: SELECT T1.`School Name` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.Virtual = 'F' ORDER BY T1.`County`, T1.`Average Reading Score` DESC LIMIT 5]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:41 - DEBUG - [main.py:120] - Question: What is the type of education offered in the school who scored the highest average in Math?
2026-02-13 14:42:41 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the type of education offered in the school who scored the highest average in Math?
2026-02-13 14:42:41 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:41 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Educational Option Type', 'schools.SOCType', 'schools.GSoffered', 'frpm.School Type', 'frpm.CDSCode', 'frpm', 'schools.Charter']
2026-02-13 14:42:41 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Educational Option Type:TEXT, Educational Option Type, Examples: [Traditional]),
(School Type:TEXT, School Type, Examples: [K-12 Schools (Public)])
]
# Table: schools
[
(Charter:INTEGER, Charter, Examples: [1, 0]),
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(SOCType:TEXT, SOCType, Examples: [K-12 Schools (Public)])
]

### ã€User Questionã€‘
What is the type of education offered in the school who scored the highest average in Math?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the type of education offered in the school who scored the highest average in Math?

```sql

2026-02-13 14:42:41 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:42 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT DISTINCT `GSoffered` FROM schools WHERE `CDSCode` = ( SELECT `CDSCode` FROM frpm ORDER BY `Math` DESC LIMIT 1 )

2026-02-13 14:42:42 - DEBUG - [main.py:167] - SELECT DISTINCT `GSoffered` FROM schools WHERE `CDSCode` = ( SELECT `CDSCode` FROM frpm ORDER BY `Math` DESC LIMIT 1 )
2026-02-13 14:42:42 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: Math
[SQL: SELECT DISTINCT `GSoffered` FROM schools WHERE `CDSCode` = ( SELECT `CDSCode` FROM frpm ORDER BY `Math` DESC LIMIT 1 )]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT DISTINCT `GSoffered` FROM schools WHERE `CDSCode` = ( SELECT `CDSCode` FROM frpm ORDER BY `Math` DESC LIMIT 1 )
2026-02-13 14:42:42 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.cds', 'schools.edopsname', 'satscores.avgscrmath', 'schools.cdscode']
2026-02-13 14:42:42 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: Math
[SQL: SELECT DISTINCT `GSoffered` FROM schools WHERE `CDSCode` = ( SELECT `CDSCode` FROM frpm ORDER BY `Math` DESC LIMIT 1 )]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:42 - DEBUG - [main.py:120] - Question: What is the average math score of the school with the lowest average score for all subjects, and in which county is it located?
2026-02-13 14:42:42 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the average math score of the school with the lowest average score for all subjects, and in which county is it located?
2026-02-13 14:42:43 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 6
2026-02-13 14:42:43 - DEBUG - [pipeline.py:349] - Retrieved Nodes (6): ['schools.County', 'schools.SOC', 'frpm.Low Grade', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:42:43 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Low Grade:TEXT, Low Grade, Examples: [K, 9, 1]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(County:TEXT, County, Examples: [Alameda, Alpine, Amador]),
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]

### ã€User Questionã€‘
What is the average math score of the school with the lowest average score for all subjects, and in which county is it located?

### ã€Reference Informationã€‘
Average score for all subjects can be computed by AvgScrMath + AvgScrRead + AvgScrWrite

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the average math score of the school with the lowest average score for all subjects, and in which county is it located?

```sql

2026-02-13 14:42:43 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:45 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT AVG(T1.AvgScrMath) AS avg_math_score, T2.County FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode GROUP BY T2.County ORDER BY avg_math_score ASC LIMIT 1

2026-02-13 14:42:45 - DEBUG - [main.py:167] - SELECT AVG(T1.AvgScrMath) AS avg_math_score, T2.County FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode GROUP BY T2.County ORDER BY avg_math_score ASC LIMIT 1
2026-02-13 14:42:45 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.AvgScrMath
[SQL: SELECT AVG(T1.AvgScrMath) AS avg_math_score, T2.County FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode GROUP BY T2.County ORDER BY avg_math_score ASC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT AVG(T1.AvgScrMath) AS avg_math_score, T2.County FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode GROUP BY T2.County ORDER BY avg_math_score ASC LIMIT 1
2026-02-13 14:42:45 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.cds', 'satscores.avgscrread', 'satscores.avgscrmath', 'schools.cdscode', 'satscores.avgscrwrite']
2026-02-13 14:42:45 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.AvgScrMath
[SQL: SELECT AVG(T1.AvgScrMath) AS avg_math_score, T2.County FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode GROUP BY T2.County ORDER BY avg_math_score ASC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:45 - DEBUG - [main.py:120] - Question: What is the average writing score of the school who has the highest number of test takers whose total SAT sscores are greater or equal to 1500? Indicate the city to where the school is situated.
2026-02-13 14:42:45 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the average writing score of the school who has the highest number of test takers whose total SAT sscores are greater or equal to 1500? Indicate the city to where the school is situated.
2026-02-13 14:42:45 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:42:45 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['satscores', 'satscores.cds', 'satscores.AvgScrRead', 'satscores.NumGE1500', 'satscores.AvgScrWrite', 'schools.City', 'frpm.CDSCode', 'frpm']
2026-02-13 14:42:45 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: satscores
[
(cds:TEXT, cds, Primary Key, Examples: [10101080000000, 10101080109991, 10101080111682]),
(AvgScrRead:INTEGER, AvgScrRead, Examples: [418, 503, 397]),
(AvgScrWrite:INTEGER, AvgScrWrite, Examples: [417, 505, 395]),
(NumGE1500:INTEGER, NumGE1500, Examples: [14, 9, 5])
]
# Table: schools
[
(City:TEXT, City, Examples: [Hayward, Newark, Oakland])
]

### ã€User Questionã€‘
What is the average writing score of the school who has the highest number of test takers whose total SAT sscores are greater or equal to 1500? Indicate the city to where the school is situated.

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the average writing score of the school who has the highest number of test takers whose total SAT sscores are greater or equal to 1500? Indicate the city to where the school is situated.

```sql

2026-02-13 14:42:45 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:48 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT AVG(T2.AvgScrWrite) AS avg_writing_score, T1.City FROM schools AS T1 INNER JOIN satscores AS T2 ON T1.CDSCode = T2.cds WHERE T2.NumGE1500 >= 1500 GROUP BY T1.City ORDER BY T2.NumGE1500 DESC LIMIT 1

2026-02-13 14:42:48 - DEBUG - [main.py:167] - SELECT AVG(T2.AvgScrWrite) AS avg_writing_score, T1.City FROM schools AS T1 INNER JOIN satscores AS T2 ON T1.CDSCode = T2.cds WHERE T2.NumGE1500 >= 1500 GROUP BY T1.City ORDER BY T2.NumGE1500 DESC LIMIT 1
2026-02-13 14:42:48 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.cdscode']
2026-02-13 14:42:48 - DEBUG - [main.py:184] - [SUCCESS] Execution Match! (Time: 0.0008s)
2026-02-13 14:42:48 - DEBUG - [main.py:120] - Question: What is the average writing score of each of the schools managed by Ricci Ulrich? List the schools and the corresponding average writing scores.
2026-02-13 14:42:48 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the average writing score of each of the schools managed by Ricci Ulrich? List the schools and the corresponding average writing scores.
2026-02-13 14:42:48 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:42:48 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.CDSCode', 'schools', 'schools.School', 'schools.State', 'schools.GSoffered', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:42:48 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(School:TEXT, School, Examples: [FAME Public Charter]),
(State:TEXT, State, Examples: [CA])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
What is the average writing score of each of the schools managed by Ricci Ulrich? List the schools and the corresponding average writing scores.

### ã€Reference Informationã€‘
Usually, administrators manage the school stuff.

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the average writing score of each of the schools managed by Ricci Ulrich? List the schools and the corresponding average writing scores.

```sql

2026-02-13 14:42:48 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:51 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.`School Name`, AVG(T2.`Writing Score`) AS average_writing_score FROM frpm AS T1 INNER JOIN `student-assessment` AS T2 ON T2.CDSCode = T1.CDSCode WHERE T1.`School Administrator` = 'Ricci Ulrich' GROUP BY T1.`School Name`
2026-02-13 14:42:51 - DEBUG - [main.py:167] - SELECT T1.`School Name`, AVG(T2.`Writing Score`) AS average_writing_score FROM frpm AS T1 INNER JOIN `student-assessment` AS T2 ON T2.CDSCode = T1.CDSCode WHERE T1.`School Administrator` = 'Ricci Ulrich' GROUP BY T1.`School Name`
2026-02-13 14:42:51 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: student-assessment
[SQL: SELECT T1.`School Name`, AVG(T2.`Writing Score`) AS average_writing_score FROM frpm AS T1 INNER JOIN `student-assessment` AS T2 ON T2.CDSCode = T1.CDSCode WHERE T1.`School Administrator` = 'Ricci Ulrich' GROUP BY T1.`School Name`]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.`School Name`, AVG(T2.`Writing Score`) AS average_writing_score FROM frpm AS T1 INNER JOIN `student-assessment` AS T2 ON T2.CDSCode = T1.CDSCode WHERE T1.`School Administrator` = 'Ricci Ulrich' GROUP BY T1.`School Name`
2026-02-13 14:42:51 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.admlname1', 'schools.admfname1', 'satscores.cds', 'satscores.avgscrwrite']
2026-02-13 14:42:51 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: student-assessment
[SQL: SELECT T1.`School Name`, AVG(T2.`Writing Score`) AS average_writing_score FROM frpm AS T1 INNER JOIN `student-assessment` AS T2 ON T2.CDSCode = T1.CDSCode WHERE T1.`School Administrator` = 'Ricci Ulrich' GROUP BY T1.`School Name`]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:51 - DEBUG - [main.py:120] - Question: Which state special schools have the highest number of enrollees from grades 1 through 12?
2026-02-13 14:42:51 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Which state special schools have the highest number of enrollees from grades 1 through 12?
2026-02-13 14:42:51 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:42:51 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.CDSCode', 'frpm.Enrollment (K-12)', 'schools', 'frpm.Percent (%) Eligible FRPM (K-12)', 'schools.SOC', 'satscores.enroll12', 'frpm.CDSCode', 'frpm']
2026-02-13 14:42:51 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (K-12):REAL, Enrollment (K-12), Examples: [1087.0, 395.0, 244.0]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098])
]
# Table: satscores
[
(enroll12:INTEGER, enroll12, Examples: [398, 62, 75])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
Which state special schools have the highest number of enrollees from grades 1 through 12?

### ã€Reference Informationã€‘
State Special Schools refers to DOC = 31; Grades 1 through 12 means K-12

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Which state special schools have the highest number of enrollees from grades 1 through 12?

```sql

2026-02-13 14:42:51 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:53 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.CDSCode FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.SOC = 31 ORDER BY T2.`Enrollment (K-12)` DESC LIMIT 1

2026-02-13 14:42:53 - DEBUG - [main.py:167] - SELECT T1.CDSCode FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.SOC = 31 ORDER BY T2.`Enrollment (K-12)` DESC LIMIT 1
2026-02-13 14:42:53 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.school', 'schools.doc']
2026-02-13 14:42:53 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:42:53 - DEBUG - [main.py:120] - Question: What is the monthly average number of schools that opened in Alameda County under the jurisdiction of the Elementary School District in 1980?
2026-02-13 14:42:53 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the monthly average number of schools that opened in Alameda County under the jurisdiction of the Elementary School District in 1980?
2026-02-13 14:42:53 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:53 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.CDSCode', 'schools', 'schools.SOC', 'schools.GSoffered', 'frpm.CDSCode', 'schools.GSserved', 'frpm']
2026-02-13 14:42:53 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7]),
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
What is the monthly average number of schools that opened in Alameda County under the jurisdiction of the Elementary School District in 1980?

### ã€Reference Informationã€‘
Elementary School District refers to DOC = 52; Monthly average number of schools that opened in 1980 = count(schools that opened in 1980) / 12

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the monthly average number of schools that opened in Alameda County under the jurisdiction of the Elementary School District in 1980?

```sql

2026-02-13 14:42:53 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:55 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT AVG(COUNT(CDSCode)) OVER (PARTITION BY YEAR(`Date Opened`)) AS monthly_average FROM schools WHERE `Date Opened` LIKE '1980%' AND DOC = 52 GROUP BY YEAR(`Date Opened`) ORDER BY YEAR(`Date Opened`) LIMIT 1

2026-02-13 14:42:55 - DEBUG - [main.py:167] - SELECT AVG(COUNT(CDSCode)) OVER (PARTITION BY YEAR(`Date Opened`)) AS monthly_average FROM schools WHERE `Date Opened` LIKE '1980%' AND DOC = 52 GROUP BY YEAR(`Date Opened`) ORDER BY YEAR(`Date Opened`) LIMIT 1
2026-02-13 14:42:55 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: Date Opened
[SQL: SELECT AVG(COUNT(CDSCode)) OVER (PARTITION BY YEAR(`Date Opened`)) AS monthly_average FROM schools WHERE `Date Opened` LIKE '1980%' AND DOC = 52 GROUP BY YEAR(`Date Opened`) ORDER BY YEAR(`Date Opened`) LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT AVG(COUNT(CDSCode)) OVER (PARTITION BY YEAR(`Date Opened`)) AS monthly_average FROM schools WHERE `Date Opened` LIKE '1980%' AND DOC = 52 GROUP BY YEAR(`Date Opened`) ORDER BY YEAR(`Date Opened`) LIMIT 1
2026-02-13 14:42:55 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.doc', 'schools.county', 'schools.opendate', 'schools.school']
2026-02-13 14:42:55 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: Date Opened
[SQL: SELECT AVG(COUNT(CDSCode)) OVER (PARTITION BY YEAR(`Date Opened`)) AS monthly_average FROM schools WHERE `Date Opened` LIKE '1980%' AND DOC = 52 GROUP BY YEAR(`Date Opened`) ORDER BY YEAR(`Date Opened`) LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:55 - DEBUG - [main.py:120] - Question: What is the ratio of merged Unified School District schools in Orange County to merged Elementary School District schools?
2026-02-13 14:42:55 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the ratio of merged Unified School District schools in Orange County to merged Elementary School District schools?
2026-02-13 14:42:56 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:56 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'schools.SOC', 'schools.GSoffered', 'frpm.CDSCode', 'schools.GSserved', 'frpm']
2026-02-13 14:42:56 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098])
]
# Table: schools
[
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7]),
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]

### ã€User Questionã€‘
What is the ratio of merged Unified School District schools in Orange County to merged Elementary School District schools?

### ã€Reference Informationã€‘
Elementary School District refers to DOC = 52; Unified School District refers to DOC = 54.

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the ratio of merged Unified School District schools in Orange County to merged Elementary School District schools?

```sql

2026-02-13 14:42:56 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:58 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT CAST(SUM(CASE WHEN `DOC` = 54 THEN 1 ELSE 0 END) AS REAL) / SUM(CASE WHEN `DOC` = 52 THEN 1 ELSE 0 END) AS ratio FROM schools WHERE `County` = 'Orange'
2026-02-13 14:42:58 - DEBUG - [main.py:167] - SELECT CAST(SUM(CASE WHEN `DOC` = 54 THEN 1 ELSE 0 END) AS REAL) / SUM(CASE WHEN `DOC` = 52 THEN 1 ELSE 0 END) AS ratio FROM schools WHERE `County` = 'Orange'
2026-02-13 14:42:58 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.doc', 'schools.statustype', 'schools.county']
2026-02-13 14:42:58 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:42:58 - DEBUG - [main.py:120] - Question: Which different county has the most number of closed schools? Please provide the name of each school as well as the closure date.
2026-02-13 14:42:58 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Which different county has the most number of closed schools? Please provide the name of each school as well as the closure date.
2026-02-13 14:42:58 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:42:58 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.County', 'schools.State', 'schools.ClosedDate', 'frpm.CDSCode', 'frpm.County Name', 'frpm', 'frpm.School Name']
2026-02-13 14:42:58 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(County Name:TEXT, County Name, Examples: [Alameda, Alpine, Amador]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(ClosedDate:DATE, ClosedDate, Examples: [2015-07-31]),
(County:TEXT, County, Examples: [Alameda, Alpine, Amador]),
(State:TEXT, State, Examples: [CA])
]

### ã€User Questionã€‘
Which different county has the most number of closed schools? Please provide the name of each school as well as the closure date.

### ã€Reference Informationã€‘
Closure date and closed date are synonyms; 'Closed' was mentioned in schools.StatusType.

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Which different county has the most number of closed schools? Please provide the name of each school as well as the closure date.

```sql

2026-02-13 14:42:58 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:42:59 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT DISTINCT `County`, `School Name`, `ClosedDate` FROM schools WHERE `ClosedDate` IS NOT NULL ORDER BY `ClosedDate` DESC LIMIT 1
2026-02-13 14:42:59 - DEBUG - [main.py:167] - SELECT DISTINCT `County`, `School Name`, `ClosedDate` FROM schools WHERE `ClosedDate` IS NOT NULL ORDER BY `ClosedDate` DESC LIMIT 1
2026-02-13 14:42:59 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: School Name
[SQL: SELECT DISTINCT `County`, `School Name`, `ClosedDate` FROM schools WHERE `ClosedDate` IS NOT NULL ORDER BY `ClosedDate` DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT DISTINCT `County`, `School Name`, `ClosedDate` FROM schools WHERE `ClosedDate` IS NOT NULL ORDER BY `ClosedDate` DESC LIMIT 1
2026-02-13 14:42:59 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.school', 'schools.statustype']
2026-02-13 14:42:59 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: School Name
[SQL: SELECT DISTINCT `County`, `School Name`, `ClosedDate` FROM schools WHERE `ClosedDate` IS NOT NULL ORDER BY `ClosedDate` DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:42:59 - DEBUG - [main.py:120] - Question: What is the postal street address for the school with the 7th highest Math average? Indicate the school's name.
2026-02-13 14:42:59 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the postal street address for the school with the 7th highest Math average? Indicate the school's name.
2026-02-13 14:43:00 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:00 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.MailCity', 'schools.MailStreet', 'schools.NCESSchool', 'schools.StreetAbr', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:43:00 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(MailCity:TEXT, MailCity, Examples: [Hayward, Newark, Oakland]),
(MailStreet:TEXT, MailStreet, Examples: [313 West Winton Avenue]),
(NCESSchool:TEXT, NCESSchool, Examples: [10546, 10947, 12283]),
(StreetAbr:TEXT, StreetAbr, Examples: [313 West Winton Ave.])
]

### ã€User Questionã€‘
What is the postal street address for the school with the 7th highest Math average? Indicate the school's name.

### ã€Reference Informationã€‘
Postal street and mailing street are synonyms.

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the postal street address for the school with the 7th highest Math average? Indicate the school's name.

```sql

2026-02-13 14:43:00 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:02 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.`StreetAbr`, T2.`School Name` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.`CDSCode` ORDER BY T2.`Math Average` DESC LIMIT 6, 1

2026-02-13 14:43:02 - DEBUG - [main.py:167] - SELECT T1.`StreetAbr`, T2.`School Name` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.`CDSCode` ORDER BY T2.`Math Average` DESC LIMIT 6, 1
2026-02-13 14:43:02 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T2.Math Average
[SQL: SELECT T1.`StreetAbr`, T2.`School Name` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.`CDSCode` ORDER BY T2.`Math Average` DESC LIMIT 6, 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.`StreetAbr`, T2.`School Name` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.`CDSCode` ORDER BY T2.`Math Average` DESC LIMIT 6, 1
2026-02-13 14:43:02 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.school', 'satscores.cds', 'satscores.avgscrmath', 'schools.cdscode']
2026-02-13 14:43:02 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T2.Math Average
[SQL: SELECT T1.`StreetAbr`, T2.`School Name` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.`CDSCode` ORDER BY T2.`Math Average` DESC LIMIT 6, 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:02 - DEBUG - [main.py:120] - Question: In which mailing street address can you find the school that has the lowest average score in reading? Also give the school's name.
2026-02-13 14:43:02 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: In which mailing street address can you find the school that has the lowest average score in reading? Also give the school's name.
2026-02-13 14:43:02 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:02 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.MailCity', 'schools.MailStreet', 'schools.StreetAbr', 'frpm.Low Grade', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:43:02 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Low Grade:TEXT, Low Grade, Examples: [K, 9, 1]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(MailCity:TEXT, MailCity, Examples: [Hayward, Newark, Oakland]),
(MailStreet:TEXT, MailStreet, Examples: [313 West Winton Avenue]),
(StreetAbr:TEXT, StreetAbr, Examples: [313 West Winton Ave.])
]

### ã€User Questionã€‘
In which mailing street address can you find the school that has the lowest average score in reading? Also give the school's name.

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
In which mailing street address can you find the school that has the lowest average score in reading? Also give the school's name.

```sql

2026-02-13 14:43:02 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:04 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.`StreetAbr`, T2.`School Name` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY T2.`Low Grade` ASC LIMIT 1

2026-02-13 14:43:04 - DEBUG - [main.py:167] - SELECT T1.`StreetAbr`, T2.`School Name` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode ORDER BY T2.`Low Grade` ASC LIMIT 1
2026-02-13 14:43:04 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.avgscrread', 'schools.school', 'satscores.cds', 'schools.cdscode']
2026-02-13 14:43:04 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:43:04 - DEBUG - [main.py:120] - Question: What is the total number of schools whose total SAT scores are greater or equal to 1500 whose mailing city is Lakeport?
2026-02-13 14:43:04 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the total number of schools whose total SAT scores are greater or equal to 1500 whose mailing city is Lakeport?
2026-02-13 14:43:04 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 9
2026-02-13 14:43:04 - DEBUG - [pipeline.py:349] - Retrieved Nodes (9): ['satscores.cds', 'schools.CDSCode', 'satscores', 'schools.SOC', 'satscores.NumGE1500', 'schools.MailCity', 'schools', 'frpm', 'frpm.CDSCode']
2026-02-13 14:43:04 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: satscores
[
(cds:TEXT, cds, Primary Key, Examples: [10101080000000, 10101080109991, 10101080111682]),
(NumGE1500:INTEGER, NumGE1500, Examples: [14, 9, 5])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(MailCity:TEXT, MailCity, Examples: [Hayward, Newark, Oakland]),
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]
ã€Foreign keysã€‘
satscores.cds=schools.CDSCode
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
What is the total number of schools whose total SAT scores are greater or equal to 1500 whose mailing city is Lakeport?

### ã€Reference Informationã€‘
Total SAT scores can be computed by AvgScrRead + AvgScrMath + AvgScrWrite

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the total number of schools whose total SAT scores are greater or equal to 1500 whose mailing city is Lakeport?

```sql

2026-02-13 14:43:04 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:06 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(T1.CDSCode) FROM schools AS T1 INNER JOIN satscores AS T2 ON T1.CDSCode = T2.cds WHERE T1.MailCity = 'Lakeport' AND T2.NumGE1500 >= 1500

2026-02-13 14:43:06 - DEBUG - [main.py:167] - SELECT COUNT(T1.CDSCode) FROM schools AS T1 INNER JOIN satscores AS T2 ON T1.CDSCode = T2.cds WHERE T1.MailCity = 'Lakeport' AND T2.NumGE1500 >= 1500
2026-02-13 14:43:06 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.avgscrread', 'satscores.avgscrwrite', 'satscores.avgscrmath']
2026-02-13 14:43:06 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:43:06 - DEBUG - [main.py:120] - Question: How many test takers are there at the school/s whose mailing city address is in Fresno?
2026-02-13 14:43:06 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: How many test takers are there at the school/s whose mailing city address is in Fresno?
2026-02-13 14:43:06 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 6
2026-02-13 14:43:06 - DEBUG - [pipeline.py:349] - Retrieved Nodes (6): ['schools.MailCity', 'frpm.Enrollment (K-12)', 'frpm.FRPM Count (Ages 5-17)', 'frpm.Enrollment (Ages 5-17)', 'frpm.CDSCode', 'frpm']
2026-02-13 14:43:06 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(Enrollment (K-12):REAL, Enrollment (K-12), Examples: [1087.0, 395.0, 244.0]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0])
]
# Table: schools
[
(MailCity:TEXT, MailCity, Examples: [Hayward, Newark, Oakland])
]

### ã€User Questionã€‘
How many test takers are there at the school/s whose mailing city address is in Fresno?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
How many test takers are there at the school/s whose mailing city address is in Fresno?

```sql

2026-02-13 14:43:06 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:08 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT SUM(`Enrollment (Ages 5-17)`) AS total_test_takers FROM frpm JOIN schools ON frpm.CDSCode = schools.CDSCode WHERE MailCity = 'Fresno'
2026-02-13 14:43:08 - DEBUG - [main.py:167] - SELECT SUM(`Enrollment (Ages 5-17)`) AS total_test_takers FROM frpm JOIN schools ON frpm.CDSCode = schools.CDSCode WHERE MailCity = 'Fresno'
2026-02-13 14:43:08 - DEBUG - [main.py:181] - [Low Recall] Missing: ['satscores.numtsttakr', 'satscores.cds', 'schools.cdscode']
2026-02-13 14:43:08 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Row Count Mismatch: GT=20, Pred=1
2026-02-13 14:43:08 - DEBUG - [main.py:120] - Question: Please specify all of the schools and their related mailing zip codes that are under Avetik Atoian's administration.
2026-02-13 14:43:08 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Please specify all of the schools and their related mailing zip codes that are under Avetik Atoian's administration.
2026-02-13 14:43:08 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:08 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.MailZip', 'schools.Zip', 'schools.State', 'frpm.School Code', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:43:08 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(School Code:TEXT, School Code, Examples: [0109835, 0112607, 0118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(MailZip:TEXT, MailZip, Examples: [94544-1136, 94560-5359, 94612]),
(State:TEXT, State, Examples: [CA]),
(Zip:TEXT, Zip, Examples: [94544-1136, 94560-5359, 94612-3355])
]

### ã€User Questionã€‘
Please specify all of the schools and their related mailing zip codes that are under Avetik Atoian's administration.

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Please specify all of the schools and their related mailing zip codes that are under Avetik Atoian's administration.

```sql

2026-02-13 14:43:08 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:10 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.`School Name`, T1.`MailZip` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.`School Code` = T2.Zip WHERE T1.`School Name` = 'Avetik Atoian'
2026-02-13 14:43:10 - DEBUG - [main.py:167] - SELECT T1.`School Name`, T1.`MailZip` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.`School Code` = T2.Zip WHERE T1.`School Name` = 'Avetik Atoian'
2026-02-13 14:43:10 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.MailZip
[SQL: SELECT T1.`School Name`, T1.`MailZip` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.`School Code` = T2.Zip WHERE T1.`School Name` = 'Avetik Atoian']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.`School Name`, T1.`MailZip` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.`School Code` = T2.Zip WHERE T1.`School Name` = 'Avetik Atoian'
2026-02-13 14:43:10 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.admlname1', 'schools.admfname1', 'schools.school']
2026-02-13 14:43:10 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.MailZip
[SQL: SELECT T1.`School Name`, T1.`MailZip` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.`School Code` = T2.Zip WHERE T1.`School Name` = 'Avetik Atoian']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:10 - DEBUG - [main.py:120] - Question: Of the schools with a mailing state address in California, what is the ratio of the schools located in the county of Colusa against the school located in the county of Humboldt?
2026-02-13 14:43:10 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Of the schools with a mailing state address in California, what is the ratio of the schools located in the county of Colusa against the school located in the county of Humboldt?
2026-02-13 14:43:11 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:11 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.MailState', 'schools.MailCity', 'schools.SOC', 'schools.State', 'frpm.CDSCode', 'schools.GSserved', 'frpm']
2026-02-13 14:43:11 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: schools
[
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7]),
(MailCity:TEXT, MailCity, Examples: [Hayward, Newark, Oakland]),
(MailState:TEXT, MailState, Examples: [CA]),
(SOC:TEXT, SOC, Examples: [65, 66, 60]),
(State:TEXT, State, Examples: [CA])
]

### ã€User Questionã€‘
Of the schools with a mailing state address in California, what is the ratio of the schools located in the county of Colusa against the school located in the county of Humboldt?

### ã€Reference Informationã€‘
Ratio = count(schools in Colusa) / count(schools in Humboldt)

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Of the schools with a mailing state address in California, what is the ratio of the schools located in the county of Colusa against the school located in the county of Humboldt?

```sql

2026-02-13 14:43:11 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:13 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT CAST(SUM(CASE WHEN `County Name` = 'Colusa' THEN 1 ELSE 0 END) AS FLOAT) / SUM(CASE WHEN `County Name` = 'Humboldt' THEN 1 ELSE 0 END) AS ratio FROM schools WHERE `Mail State` = 'CA'

2026-02-13 14:43:13 - DEBUG - [main.py:167] - SELECT CAST(SUM(CASE WHEN `County Name` = 'Colusa' THEN 1 ELSE 0 END) AS FLOAT) / SUM(CASE WHEN `County Name` = 'Humboldt' THEN 1 ELSE 0 END) AS ratio FROM schools WHERE `Mail State` = 'CA'
2026-02-13 14:43:13 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: County Name
[SQL: SELECT CAST(SUM(CASE WHEN `County Name` = 'Colusa' THEN 1 ELSE 0 END) AS FLOAT) / SUM(CASE WHEN `County Name` = 'Humboldt' THEN 1 ELSE 0 END) AS ratio FROM schools WHERE `Mail State` = 'CA']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT CAST(SUM(CASE WHEN `County Name` = 'Colusa' THEN 1 ELSE 0 END) AS FLOAT) / SUM(CASE WHEN `County Name` = 'Humboldt' THEN 1 ELSE 0 END) AS ratio FROM schools WHERE `Mail State` = 'CA'
2026-02-13 14:43:13 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.county']
2026-02-13 14:43:13 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: County Name
[SQL: SELECT CAST(SUM(CASE WHEN `County Name` = 'Colusa' THEN 1 ELSE 0 END) AS FLOAT) / SUM(CASE WHEN `County Name` = 'Humboldt' THEN 1 ELSE 0 END) AS ratio FROM schools WHERE `Mail State` = 'CA']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:13 - DEBUG - [main.py:120] - Question: Of all the schools with a mailing state address in California, how many are active in San Joaquin city?
2026-02-13 14:43:13 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Of all the schools with a mailing state address in California, how many are active in San Joaquin city?
2026-02-13 14:43:13 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:43:13 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.MailState', 'schools.MailCity', 'schools', 'schools.CDSCode', 'schools.SOC', 'schools.GSoffered', 'frpm.CDSCode', 'frpm']
2026-02-13 14:43:13 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(MailCity:TEXT, MailCity, Examples: [Hayward, Newark, Oakland]),
(MailState:TEXT, MailState, Examples: [CA]),
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
Of all the schools with a mailing state address in California, how many are active in San Joaquin city?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Of all the schools with a mailing state address in California, how many are active in San Joaquin city?

```sql

2026-02-13 14:43:13 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:14 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(*) FROM schools WHERE `MailState` = 'CA' AND `MailCity` = 'San Joaquin'
2026-02-13 14:43:14 - DEBUG - [main.py:167] - SELECT COUNT(*) FROM schools WHERE `MailState` = 'CA' AND `MailCity` = 'San Joaquin'
2026-02-13 14:43:14 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.statustype', 'schools.city']
2026-02-13 14:43:14 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:43:14 - DEBUG - [main.py:120] - Question: What is the phone number and extension number for the school that had the 333rd highest average writing score?
2026-02-13 14:43:14 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the phone number and extension number for the school that had the 333rd highest average writing score?
2026-02-13 14:43:14 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:14 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.School Name', 'schools.NCESSchool', 'schools.Phone', 'frpm.CDSCode', 'schools.GSserved', 'frpm', 'frpm.Charter School Number']
2026-02-13 14:43:14 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter School Number:TEXT, Charter School Number, Examples: [0728, 0811, 1049]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7]),
(NCESSchool:TEXT, NCESSchool, Examples: [10546, 10947, 12283]),
(Phone:TEXT, Phone, Examples: [(510) 887-0152, (510) 596-8901, (510) 686-4131])
]

### ã€User Questionã€‘
What is the phone number and extension number for the school that had the 333rd highest average writing score?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the phone number and extension number for the school that had the 333rd highest average writing score?

```sql

2026-02-13 14:43:14 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:16 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.Phone, T1.Extension FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode ORDER BY T2.`Average Writing Score` DESC LIMIT 332, 1

2026-02-13 14:43:16 - DEBUG - [main.py:167] - SELECT T1.Phone, T1.Extension FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode ORDER BY T2.`Average Writing Score` DESC LIMIT 332, 1
2026-02-13 14:43:16 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.Extension
[SQL: SELECT T1.Phone, T1.Extension FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode ORDER BY T2.`Average Writing Score` DESC LIMIT 332, 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.Phone, T1.Extension FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode ORDER BY T2.`Average Writing Score` DESC LIMIT 332, 1
2026-02-13 14:43:16 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.ext', 'satscores.cds', 'satscores.avgscrwrite', 'schools.cdscode']
2026-02-13 14:43:16 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.Extension
[SQL: SELECT T1.Phone, T1.Extension FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode ORDER BY T2.`Average Writing Score` DESC LIMIT 332, 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:16 - DEBUG - [main.py:120] - Question: What is the phone number and extension number for the school with the zip code 95203-3704? Indicate the school's name.
2026-02-13 14:43:16 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the phone number and extension number for the school with the zip code 95203-3704? Indicate the school's name.
2026-02-13 14:43:16 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:16 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.School', 'schools.Zip', 'schools.Phone', 'schools.Ext', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:43:16 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(Ext:TEXT, Ext, Examples: [130, 1240, 1200]),
(Phone:TEXT, Phone, Examples: [(510) 887-0152, (510) 596-8901, (510) 686-4131]),
(School:TEXT, School, Examples: [FAME Public Charter]),
(Zip:TEXT, Zip, Examples: [94544-1136, 94560-5359, 94612-3355])
]

### ã€User Questionã€‘
What is the phone number and extension number for the school with the zip code 95203-3704? Indicate the school's name.

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the phone number and extension number for the school with the zip code 95203-3704? Indicate the school's name.

```sql

2026-02-13 14:43:16 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:18 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.`Phone`, T1.Ext, T2.`School Name` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.School = T2.`School Name` WHERE T1.Zip = '95203-3704'

2026-02-13 14:43:18 - DEBUG - [main.py:167] - SELECT T1.`Phone`, T1.Ext, T2.`School Name` FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.School = T2.`School Name` WHERE T1.Zip = '95203-3704'
2026-02-13 14:43:19 - DEBUG - [main.py:184] - [SUCCESS] Execution Match! (Time: 0.0187s)
2026-02-13 14:43:19 - DEBUG - [main.py:120] - Question: What is the website for the schools under the administrations of Mike Larson and Dante Alvarez?
2026-02-13 14:43:19 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the website for the schools under the administrations of Mike Larson and Dante Alvarez?
2026-02-13 14:43:19 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:19 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'schools.MailStreet', 'schools.School', 'schools.NCESSchool', 'schools.City', 'schools.Website', 'frpm']
2026-02-13 14:43:19 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: schools
[
(City:TEXT, City, Examples: [Hayward, Newark, Oakland]),
(MailStreet:TEXT, MailStreet, Examples: [313 West Winton Avenue]),
(NCESSchool:TEXT, NCESSchool, Examples: [10546, 10947, 12283]),
(School:TEXT, School, Examples: [FAME Public Charter]),
(Website:TEXT, Website, Examples: [www.acoe.org])
]

### ã€User Questionã€‘
What is the website for the schools under the administrations of Mike Larson and Dante Alvarez?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the website for the schools under the administrations of Mike Larson and Dante Alvarez?

```sql

2026-02-13 14:43:19 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:21 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.Website FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T2.Admin1 = 'Mike Larson' OR T2.Admin1 = 'Dante Alvarez'

2026-02-13 14:43:21 - DEBUG - [main.py:167] - SELECT T1.Website FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T2.Admin1 = 'Mike Larson' OR T2.Admin1 = 'Dante Alvarez'
2026-02-13 14:43:21 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T2.Admin1
[SQL: SELECT T1.Website FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T2.Admin1 = 'Mike Larson' OR T2.Admin1 = 'Dante Alvarez']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.Website FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T2.Admin1 = 'Mike Larson' OR T2.Admin1 = 'Dante Alvarez'
2026-02-13 14:43:21 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.admlname1', 'schools.admfname1']
2026-02-13 14:43:21 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T2.Admin1
[SQL: SELECT T1.Website FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.NCESSchool = T2.CDSCode WHERE T2.Admin1 = 'Mike Larson' OR T2.Admin1 = 'Dante Alvarez']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:21 - DEBUG - [main.py:120] - Question: What are the websites for all the partially virtual chartered schools located in San Joaquin?
2026-02-13 14:43:21 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What are the websites for all the partially virtual chartered schools located in San Joaquin?
2026-02-13 14:43:21 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:21 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'frpm.Percent (%) Eligible FRPM (K-12)', 'schools.NCESSchool', 'schools.SOC', 'schools.Virtual', 'schools.Website', 'frpm']
2026-02-13 14:43:21 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098])
]
# Table: schools
[
(NCESSchool:TEXT, NCESSchool, Examples: [10546, 10947, 12283]),
(SOC:TEXT, SOC, Examples: [65, 66, 60]),
(Virtual:TEXT, Virtual, Examples: [P, N, F]),
(Website:TEXT, Website, Examples: [www.acoe.org])
]

### ã€User Questionã€‘
What are the websites for all the partially virtual chartered schools located in San Joaquin?

### ã€Reference Informationã€‘
Virtual = 'P' means partially virtual; Charter schools refers to Charter = 1 in the table schools

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What are the websites for all the partially virtual chartered schools located in San Joaquin?

```sql

2026-02-13 14:43:21 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:23 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT DISTINCT T1.Website FROM schools AS T1 WHERE T1.Virtual = 'P' AND T1.Charter = 1 AND T1.`County Name` = 'San Joaquin'

2026-02-13 14:43:23 - DEBUG - [main.py:167] - SELECT DISTINCT T1.Website FROM schools AS T1 WHERE T1.Virtual = 'P' AND T1.Charter = 1 AND T1.`County Name` = 'San Joaquin'
2026-02-13 14:43:23 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.County Name
[SQL: SELECT DISTINCT T1.Website FROM schools AS T1 WHERE T1.Virtual = 'P' AND T1.Charter = 1 AND T1.`County Name` = 'San Joaquin']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT DISTINCT T1.Website FROM schools AS T1 WHERE T1.Virtual = 'P' AND T1.Charter = 1 AND T1.`County Name` = 'San Joaquin'
2026-02-13 14:43:23 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.charter', 'schools.county']
2026-02-13 14:43:23 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.County Name
[SQL: SELECT DISTINCT T1.Website FROM schools AS T1 WHERE T1.Virtual = 'P' AND T1.Charter = 1 AND T1.`County Name` = 'San Joaquin']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:23 - DEBUG - [main.py:120] - Question: How many chartered schools located in the city of Hickman are owned by the Elementary School District?
2026-02-13 14:43:23 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: How many chartered schools located in the city of Hickman are owned by the Elementary School District?
2026-02-13 14:43:23 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:43:23 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['frpm.Charter School (Y/N)', 'schools.CDSCode', 'schools', 'schools.SOC', 'schools.GSoffered', 'frpm.CDSCode', 'schools.GSserved', 'frpm']
2026-02-13 14:43:23 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter School (Y/N):INTEGER, Charter School (Y/N), Examples: [1, 0])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7]),
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
How many chartered schools located in the city of Hickman are owned by the Elementary School District?

### ã€Reference Informationã€‘
Elementary School District refers to DOC = 52; Chartered schools refer to Charter = 1 in the table schools

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
How many chartered schools located in the city of Hickman are owned by the Elementary School District?

```sql

2026-02-13 14:43:23 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:25 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(*) FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.GSserved = 'K-7' AND T2.`Charter School (Y/N)` = 1 AND T1.DOC = 52

2026-02-13 14:43:25 - DEBUG - [main.py:167] - SELECT COUNT(*) FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.GSserved = 'K-7' AND T2.`Charter School (Y/N)` = 1 AND T1.DOC = 52
2026-02-13 14:43:25 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.doc', 'schools.charter', 'schools.city', 'schools.school']
2026-02-13 14:43:25 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:43:25 - DEBUG - [main.py:120] - Question: What is the total number of non-chartered schools in the county of Los Angeles with a percent (%) of eligible free meals for grades 1 through 12 that is less than 0.18%?
2026-02-13 14:43:25 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the total number of non-chartered schools in the county of Los Angeles with a percent (%) of eligible free meals for grades 1 through 12 that is less than 0.18%?
2026-02-13 14:43:26 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:26 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.Percent (%) Eligible Free (K-12)', 'frpm.Free Meal Count (K-12)', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm']
2026-02-13 14:43:26 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Free Meal Count (K-12):REAL, Free Meal Count (K-12), Examples: [565.0, 186.0, 134.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435]),
(Percent (%) Eligible Free (K-12):REAL, Percent (%) Eligible Free (K-12), Examples: [0.519779208831647, 0.470886075949367, 0.549180327868853])
]

### ã€User Questionã€‘
What is the total number of non-chartered schools in the county of Los Angeles with a percent (%) of eligible free meals for grades 1 through 12 that is less than 0.18%?

### ã€Reference Informationã€‘
non-chartered schools refer to schools whose Charter = 0; K-12 means grades 1 through 12; percent of eligible free rate for K-12 = `Free Meal Count (K-12)` * 100 / `Enrollment (K-12)`

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the total number of non-chartered schools in the county of Los Angeles with a percent (%) of eligible free meals for grades 1 through 12 that is less than 0.18%?

```sql

2026-02-13 14:43:26 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:28 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(*) FROM frpm AS T1 INNER JOIN public_schooldistrict AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.County = 'Los Angeles' AND T1.`Percent (%) Eligible Free (K-12)` < 0.18 AND T2.Charter = 0

2026-02-13 14:43:28 - DEBUG - [main.py:167] - SELECT COUNT(*) FROM frpm AS T1 INNER JOIN public_schooldistrict AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.County = 'Los Angeles' AND T1.`Percent (%) Eligible Free (K-12)` < 0.18 AND T2.Charter = 0
2026-02-13 14:43:28 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: public_schooldistrict
[SQL: SELECT COUNT(*) FROM frpm AS T1 INNER JOIN public_schooldistrict AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.County = 'Los Angeles' AND T1.`Percent (%) Eligible Free (K-12)` < 0.18 AND T2.Charter = 0]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT COUNT(*) FROM frpm AS T1 INNER JOIN public_schooldistrict AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.County = 'Los Angeles' AND T1.`Percent (%) Eligible Free (K-12)` < 0.18 AND T2.Charter = 0
2026-02-13 14:43:28 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.school', 'schools.charter', 'frpm.enrollment (k-12)', 'schools.county', 'schools.cdscode']
2026-02-13 14:43:28 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: public_schooldistrict
[SQL: SELECT COUNT(*) FROM frpm AS T1 INNER JOIN public_schooldistrict AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.County = 'Los Angeles' AND T1.`Percent (%) Eligible Free (K-12)` < 0.18 AND T2.Charter = 0]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:28 - DEBUG - [main.py:120] - Question: In chartered schools with charter number 00D2, what are the names of all the administrators? Include the name of the school and the city to which it belongs
2026-02-13 14:43:28 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: In chartered schools with charter number 00D2, what are the names of all the administrators? Include the name of the school and the city to which it belongs
2026-02-13 14:43:29 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:29 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Charter School (Y/N)', 'schools.CharterNum', 'schools.Charter', 'schools.City', 'frpm.CDSCode', 'frpm', 'frpm.Charter School Number']
2026-02-13 14:43:29 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter School (Y/N):INTEGER, Charter School (Y/N), Examples: [1, 0]),
(Charter School Number:TEXT, Charter School Number, Examples: [0728, 0811, 1049])
]
# Table: schools
[
(Charter:INTEGER, Charter, Examples: [1, 0]),
(CharterNum:TEXT, CharterNum, Examples: [0728, 0811, 1049]),
(City:TEXT, City, Examples: [Hayward, Newark, Oakland])
]

### ã€User Questionã€‘
In chartered schools with charter number 00D2, what are the names of all the administrators? Include the name of the school and the city to which it belongs

### ã€Reference Informationã€‘
Chartered schools refer to Charter = 1 in the table schools; Full name refers to first name, last name

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
In chartered schools with charter number 00D2, what are the names of all the administrators? Include the name of the school and the city to which it belongs

```sql

2026-02-13 14:43:29 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:31 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.first_name, T1.last_name, T1.school_name, T1.city FROM administrators AS T1 INNER JOIN schools AS T2 ON T1.school_id = T2.school_id WHERE T2.CharterNum = '00D2' AND T2.Charter = 1

2026-02-13 14:43:31 - DEBUG - [main.py:167] - SELECT T1.first_name, T1.last_name, T1.school_name, T1.city FROM administrators AS T1 INNER JOIN schools AS T2 ON T1.school_id = T2.school_id WHERE T2.CharterNum = '00D2' AND T2.Charter = 1
2026-02-13 14:43:31 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: administrators
[SQL: SELECT T1.first_name, T1.last_name, T1.school_name, T1.city FROM administrators AS T1 INNER JOIN schools AS T2 ON T1.school_id = T2.school_id WHERE T2.CharterNum = '00D2' AND T2.Charter = 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.first_name, T1.last_name, T1.school_name, T1.city FROM administrators AS T1 INNER JOIN schools AS T2 ON T1.school_id = T2.school_id WHERE T2.CharterNum = '00D2' AND T2.Charter = 1
2026-02-13 14:43:31 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.admlname1', 'schools.admfname1', 'schools.school']
2026-02-13 14:43:31 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: administrators
[SQL: SELECT T1.first_name, T1.last_name, T1.school_name, T1.city FROM administrators AS T1 INNER JOIN schools AS T2 ON T1.school_id = T2.school_id WHERE T2.CharterNum = '00D2' AND T2.Charter = 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:31 - DEBUG - [main.py:120] - Question: What is the total number of schools with a mailing city in Hickman belonging to the charter number 00D4?
2026-02-13 14:43:31 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the total number of schools with a mailing city in Hickman belonging to the charter number 00D4?
2026-02-13 14:43:31 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:43:31 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.MailState', 'schools.MailCity', 'schools', 'schools.CDSCode', 'schools.CharterNum', 'frpm.CDSCode', 'frpm', 'frpm.Charter School Number']
2026-02-13 14:43:31 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter School Number:TEXT, Charter School Number, Examples: [0728, 0811, 1049])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(CharterNum:TEXT, CharterNum, Examples: [0728, 0811, 1049]),
(MailCity:TEXT, MailCity, Examples: [Hayward, Newark, Oakland]),
(MailState:TEXT, MailState, Examples: [CA])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
What is the total number of schools with a mailing city in Hickman belonging to the charter number 00D4?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the total number of schools with a mailing city in Hickman belonging to the charter number 00D4?

```sql

2026-02-13 14:43:31 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:32 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(*) FROM schools WHERE MailCity = 'Hickman' AND CharterNum = '00D4'
2026-02-13 14:43:32 - DEBUG - [main.py:167] - SELECT COUNT(*) FROM schools WHERE MailCity = 'Hickman' AND CharterNum = '00D4'
2026-02-13 14:43:32 - DEBUG - [main.py:184] - [SUCCESS] Execution Match! (Time: 0.0069s)
2026-02-13 14:43:32 - DEBUG - [main.py:120] - Question: What is the ratio in percentage of Santa Clara County schools that are locally funded compared to all other types of charter school funding?
2026-02-13 14:43:32 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the ratio in percentage of Santa Clara County schools that are locally funded compared to all other types of charter school funding?
2026-02-13 14:43:33 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:33 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.Percent (%) Eligible FRPM (K-12)', 'schools.SOC', 'frpm.Charter Funding Type', 'frpm.CDSCode', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm']
2026-02-13 14:43:33 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter Funding Type:TEXT, Charter Funding Type, Examples: [Directly funded]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435])
]
# Table: schools
[
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]

### ã€User Questionã€‘
What is the ratio in percentage of Santa Clara County schools that are locally funded compared to all other types of charter school funding?

### ã€Reference Informationã€‘
Ratio in percentage = (count(locally funded schools in Santa Clara) / count(all funding type schools in Santa Clara) * 100%

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the ratio in percentage of Santa Clara County schools that are locally funded compared to all other types of charter school funding?

```sql

2026-02-13 14:43:33 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:35 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT (SUM(CASE WHEN `Charter Funding Type` = 'Locally funded' THEN 1 ELSE 0 END) * 100.0 / COUNT(*)) AS ratio FROM frpm WHERE `Charter Funding Type` IN ('Directly funded', 'Locally funded')
2026-02-13 14:43:35 - DEBUG - [main.py:167] - SELECT (SUM(CASE WHEN `Charter Funding Type` = 'Locally funded' THEN 1 ELSE 0 END) * 100.0 / COUNT(*)) AS ratio FROM frpm WHERE `Charter Funding Type` IN ('Directly funded', 'Locally funded')
2026-02-13 14:43:35 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.fundingtype', 'schools.charter', 'schools.county']
2026-02-13 14:43:35 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:43:35 - DEBUG - [main.py:120] - Question: Between 1/1/2000 to 12/31/2005, how many directly funded schools opened in the county of Stanislaus?
2026-02-13 14:43:35 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Between 1/1/2000 to 12/31/2005, how many directly funded schools opened in the county of Stanislaus?
2026-02-13 14:43:35 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:43:35 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.CDSCode', 'schools', 'schools.SOC', 'schools.GSoffered', 'schools.Ext', 'frpm.CDSCode', 'schools.GSserved', 'frpm']
2026-02-13 14:43:35 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(Ext:TEXT, Ext, Examples: [130, 1240, 1200]),
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7]),
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
Between 1/1/2000 to 12/31/2005, how many directly funded schools opened in the county of Stanislaus?

### ã€Reference Informationã€‘
Directly funded schools refers to FundingType = 'Directly Funded'

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Between 1/1/2000 to 12/31/2005, how many directly funded schools opened in the county of Stanislaus?

```sql

2026-02-13 14:43:35 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:38 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.FundingType = 'Directly Funded' AND T2.GSserved = 'K-12' AND T2.SOC = '65' AND T1.`Date Opened` BETWEEN '2000-01-01' AND '2005-12-31'

2026-02-13 14:43:38 - DEBUG - [main.py:167] - SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.FundingType = 'Directly Funded' AND T2.GSserved = 'K-12' AND T2.SOC = '65' AND T1.`Date Opened` BETWEEN '2000-01-01' AND '2005-12-31'
2026-02-13 14:43:38 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T1.FundingType
[SQL: SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.FundingType = 'Directly Funded' AND T2.GSserved = 'K-12' AND T2.SOC = '65' AND T1.`Date Opened` BETWEEN '2000-01-01' AND '2005-12-31']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.FundingType = 'Directly Funded' AND T2.GSserved = 'K-12' AND T2.SOC = '65' AND T1.`Date Opened` BETWEEN '2000-01-01' AND '2005-12-31'
2026-02-13 14:43:38 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.fundingtype', 'schools.school', 'schools.county', 'schools.opendate']
2026-02-13 14:43:38 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T1.FundingType
[SQL: SELECT COUNT(*) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.FundingType = 'Directly Funded' AND T2.GSserved = 'K-12' AND T2.SOC = '65' AND T1.`Date Opened` BETWEEN '2000-01-01' AND '2005-12-31']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:38 - DEBUG - [main.py:120] - Question: What is the total amount of Community College District closure in 1989 in the city of San Francisco?
2026-02-13 14:43:38 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the total amount of Community College District closure in 1989 in the city of San Francisco?
2026-02-13 14:43:39 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 6
2026-02-13 14:43:39 - DEBUG - [pipeline.py:349] - Retrieved Nodes (6): ['frpm.Educational Option Type', 'satscores.cds', 'schools.SOCType', 'schools.SOC', 'frpm.CDSCode', 'frpm']
2026-02-13 14:43:39 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Educational Option Type:TEXT, Educational Option Type, Examples: [Traditional])
]
# Table: satscores
[
(cds:TEXT, cds, Primary Key, Examples: [10101080000000, 10101080109991, 10101080111682])
]
# Table: schools
[
(SOC:TEXT, SOC, Examples: [65, 66, 60]),
(SOCType:TEXT, SOCType, Examples: [K-12 Schools (Public)])
]

### ã€User Questionã€‘
What is the total amount of Community College District closure in 1989 in the city of San Francisco?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the total amount of Community College District closure in 1989 in the city of San Francisco?

```sql

2026-02-13 14:43:39 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:40 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT SUM(CASE WHEN `Year` = 1989 AND `City` = 'San Francisco' THEN 1 ELSE 0 END) AS total_closure FROM frpm

2026-02-13 14:43:40 - DEBUG - [main.py:167] - SELECT SUM(CASE WHEN `Year` = 1989 AND `City` = 'San Francisco' THEN 1 ELSE 0 END) AS total_closure FROM frpm
2026-02-13 14:43:40 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: Year
[SQL: SELECT SUM(CASE WHEN `Year` = 1989 AND `City` = 'San Francisco' THEN 1 ELSE 0 END) AS total_closure FROM frpm]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT SUM(CASE WHEN `Year` = 1989 AND `City` = 'San Francisco' THEN 1 ELSE 0 END) AS total_closure FROM frpm
2026-02-13 14:43:40 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.city', 'schools.closeddate', 'schools.doctype', 'schools.school']
2026-02-13 14:43:40 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: Year
[SQL: SELECT SUM(CASE WHEN `Year` = 1989 AND `City` = 'San Francisco' THEN 1 ELSE 0 END) AS total_closure FROM frpm]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:40 - DEBUG - [main.py:120] - Question: Which county reported the most number of school closure in the 1980s with school wonership code belonging to Youth Authority Facilities (CEA)?
2026-02-13 14:43:40 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Which county reported the most number of school closure in the 1980s with school wonership code belonging to Youth Authority Facilities (CEA)?
2026-02-13 14:43:41 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:41 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.County Code', 'schools.County', 'schools.State', 'frpm.School Code', 'frpm.CDSCode', 'frpm.County Name', 'frpm']
2026-02-13 14:43:41 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(County Code:TEXT, County Code, Examples: [01, 02, 03]),
(County Name:TEXT, County Name, Examples: [Alameda, Alpine, Amador]),
(School Code:TEXT, School Code, Examples: [0109835, 0112607, 0118489])
]
# Table: schools
[
(County:TEXT, County, Examples: [Alameda, Alpine, Amador]),
(State:TEXT, State, Examples: [CA])
]

### ã€User Questionã€‘
Which county reported the most number of school closure in the 1980s with school wonership code belonging to Youth Authority Facilities (CEA)?

### ã€Reference Informationã€‘
Youth Authority Facilities (CEA) refers to SOC = 11; 1980s = years between 1980 and 1989

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Which county reported the most number of school closure in the 1980s with school wonership code belonging to Youth Authority Facilities (CEA)?

```sql

2026-02-13 14:43:41 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:43 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT County FROM frpm WHERE `School Code` IN ( SELECT `School Code` FROM frpm WHERE `Year` BETWEEN 1980 AND 1989 AND `SOC` = 11 GROUP BY `School Code` ORDER BY COUNT(`School Code`) DESC LIMIT 1 )

2026-02-13 14:43:43 - DEBUG - [main.py:167] - SELECT County FROM frpm WHERE `School Code` IN ( SELECT `School Code` FROM frpm WHERE `Year` BETWEEN 1980 AND 1989 AND `SOC` = 11 GROUP BY `School Code` ORDER BY COUNT(`School Code`) DESC LIMIT 1 )
2026-02-13 14:43:43 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: County
[SQL: SELECT County FROM frpm WHERE `School Code` IN ( SELECT `School Code` FROM frpm WHERE `Year` BETWEEN 1980 AND 1989 AND `SOC` = 11 GROUP BY `School Code` ORDER BY COUNT(`School Code`) DESC LIMIT 1 )]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT County FROM frpm WHERE `School Code` IN ( SELECT `School Code` FROM frpm WHERE `Year` BETWEEN 1980 AND 1989 AND `SOC` = 11 GROUP BY `School Code` ORDER BY COUNT(`School Code`) DESC LIMIT 1 )
2026-02-13 14:43:43 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.closeddate', 'schools.soc', 'schools.statustype', 'schools.school']
2026-02-13 14:43:43 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: County
[SQL: SELECT County FROM frpm WHERE `School Code` IN ( SELECT `School Code` FROM frpm WHERE `Year` BETWEEN 1980 AND 1989 AND `SOC` = 11 GROUP BY `School Code` ORDER BY COUNT(`School Code`) DESC LIMIT 1 )]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:43 - DEBUG - [main.py:120] - Question: Please provide the National Center for Educational Statistics school district identification number for all schools with a School Ownership Code that are part of the State Special Schools.
2026-02-13 14:43:43 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Please provide the National Center for Educational Statistics school district identification number for all schools with a School Ownership Code that are part of the State Special Schools.
2026-02-13 14:43:43 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 6
2026-02-13 14:43:43 - DEBUG - [pipeline.py:349] - Retrieved Nodes (6): ['schools.CDSCode', 'schools.GSoffered', 'frpm.CDSCode', 'schools.GSserved', 'frpm', 'frpm.NSLP Provision Status']
2026-02-13 14:43:43 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(NSLP Provision Status:TEXT, NSLP Provision Status, Examples: [Breakfast Provision 2])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
Please provide the National Center for Educational Statistics school district identification number for all schools with a School Ownership Code that are part of the State Special Schools.

### ã€Reference Informationã€‘
State Special Schools means that SOC = 31.

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Please provide the National Center for Educational Statistics school district identification number for all schools with a School Ownership Code that are part of the State Special Schools.

```sql

2026-02-13 14:43:43 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:45 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.CDSCode FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`NSLP Provision Status` = 'Breakfast Provision 2'

2026-02-13 14:43:45 - DEBUG - [main.py:167] - SELECT T1.CDSCode FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`NSLP Provision Status` = 'Breakfast Provision 2'
2026-02-13 14:43:45 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.soc', 'schools.ncesdist']
2026-02-13 14:43:45 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Row Count Mismatch: GT=3, Pred=285
2026-02-13 14:43:45 - DEBUG - [main.py:120] - Question: How many active and closed District Community Day Schools are there in the county of Alpine?
2026-02-13 14:43:45 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: How many active and closed District Community Day Schools are there in the county of Alpine?
2026-02-13 14:43:45 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 8
2026-02-13 14:43:45 - DEBUG - [pipeline.py:349] - Retrieved Nodes (8): ['schools.CDSCode', 'frpm.FRPM Count (K-12)', 'schools', 'schools.SOC', 'schools.NCESDist', 'frpm.FRPM Count (Ages 5-17)', 'frpm.CDSCode', 'frpm']
2026-02-13 14:43:45 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0]),
(FRPM Count (K-12):REAL, FRPM Count (K-12), Examples: [715.0, 186.0, 175.0])
]
# Table: schools
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170000000, 01100170109835, 01100170112607]),
(NCESDist:TEXT, NCESDist, Examples: [0691051, 0600002, 0600003]),
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]
ã€Foreign keysã€‘
schools.CDSCode=frpm.CDSCode

### ã€User Questionã€‘
How many active and closed District Community Day Schools are there in the county of Alpine?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
How many active and closed District Community Day Schools are there in the county of Alpine?

```sql

2026-02-13 14:43:45 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:47 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT COUNT(*) FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.SOC = '65' AND T1.NCESDist = '0691051'

2026-02-13 14:43:47 - DEBUG - [main.py:167] - SELECT COUNT(*) FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.SOC = '65' AND T1.NCESDist = '0691051'
2026-02-13 14:43:47 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.school', 'schools.statustype', 'schools.county']
2026-02-13 14:43:47 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:43:47 - DEBUG - [main.py:120] - Question: What is the district code for the School that does not offer a magnet program in the city of Fresno?
2026-02-13 14:43:47 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the district code for the School that does not offer a magnet program in the city of Fresno?
2026-02-13 14:43:48 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:48 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.District Code', 'frpm.District Name', 'frpm.School Code', 'schools.Magnet', 'frpm.CDSCode', 'frpm', 'frpm.District Type']
2026-02-13 14:43:48 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(District Code:INTEGER, District Code, Examples: [10017, 31609, 31617]),
(District Name:TEXT, District Name),
(District Type:TEXT, District Type, Examples: [County Office of Education (COE)]),
(School Code:TEXT, School Code, Examples: [0109835, 0112607, 0118489])
]
# Table: schools
[
(Magnet:INTEGER, Magnet, Examples: [0, 1])
]

### ã€User Questionã€‘
What is the district code for the School that does not offer a magnet program in the city of Fresno?

### ã€Reference Informationã€‘
When magent is equal to 0 in the database, it means ths school doesn't offer a magnet program.

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the district code for the School that does not offer a magnet program in the city of Fresno?

```sql

2026-02-13 14:43:48 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:49 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT DISTINCT T1.`District Code` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.`School Code` = T2.SchoolCode WHERE T2.Magnet = 0

2026-02-13 14:43:49 - DEBUG - [main.py:167] - SELECT DISTINCT T1.`District Code` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.`School Code` = T2.SchoolCode WHERE T2.Magnet = 0
2026-02-13 14:43:49 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: T2.SchoolCode
[SQL: SELECT DISTINCT T1.`District Code` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.`School Code` = T2.SchoolCode WHERE T2.Magnet = 0]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT DISTINCT T1.`District Code` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.`School Code` = T2.SchoolCode WHERE T2.Magnet = 0
2026-02-13 14:43:49 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.city', 'schools.cdscode']
2026-02-13 14:43:49 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: T2.SchoolCode
[SQL: SELECT DISTINCT T1.`District Code` FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.`School Code` = T2.SchoolCode WHERE T2.Magnet = 0]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:49 - DEBUG - [main.py:120] - Question: How many students from the ages of 5 to 17 are enrolled at the State Special School school in Fremont for the 2014-2015 academic year?
2026-02-13 14:43:49 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: How many students from the ages of 5 to 17 are enrolled at the State Special School school in Fremont for the 2014-2015 academic year?
2026-02-13 14:43:49 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:49 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.FRPM Count (Ages 5-17)', 'frpm.Enrollment (Ages 5-17)', 'frpm.CDSCode', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm', 'frpm.Free Meal Count (Ages 5-17)']
2026-02-13 14:43:49 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0]),
(Free Meal Count (Ages 5-17):REAL, Free Meal Count (Ages 5-17), Examples: [553.0, 182.0, 128.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435])
]

### ã€User Questionã€‘
How many students from the ages of 5 to 17 are enrolled at the State Special School school in Fremont for the 2014-2015 academic year?

### ã€Reference Informationã€‘
State Special School means EdOpsCode = 'SSS'

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
How many students from the ages of 5 to 17 are enrolled at the State Special School school in Fremont for the 2014-2015 academic year?

```sql

2026-02-13 14:43:49 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:51 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT SUM(`Enrollment (Ages 5-17)`) FROM frpm WHERE EdOpsCode = 'SSS' AND `Location` = 'Fremont' AND `Academic Year` = '2014-2015'
2026-02-13 14:43:51 - DEBUG - [main.py:167] - SELECT SUM(`Enrollment (Ages 5-17)`) FROM frpm WHERE EdOpsCode = 'SSS' AND `Location` = 'Fremont' AND `Academic Year` = '2014-2015'
2026-02-13 14:43:51 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: EdOpsCode
[SQL: SELECT SUM(`Enrollment (Ages 5-17)`) FROM frpm WHERE EdOpsCode = 'SSS' AND `Location` = 'Fremont' AND `Academic Year` = '2014-2015']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT SUM(`Enrollment (Ages 5-17)`) FROM frpm WHERE EdOpsCode = 'SSS' AND `Location` = 'Fremont' AND `Academic Year` = '2014-2015'
2026-02-13 14:43:51 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.academic year', 'schools.edopscode', 'schools.city', 'schools.cdscode']
2026-02-13 14:43:51 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: EdOpsCode
[SQL: SELECT SUM(`Enrollment (Ages 5-17)`) FROM frpm WHERE EdOpsCode = 'SSS' AND `Location` = 'Fremont' AND `Academic Year` = '2014-2015']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:51 - DEBUG - [main.py:120] - Question: What is the free or reduced price meal count for ages 5 to 17 in the Youth Authority School with a mailing street address of PO Box 1040?
2026-02-13 14:43:51 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the free or reduced price meal count for ages 5 to 17 in the Youth Authority School with a mailing street address of PO Box 1040?
2026-02-13 14:43:52 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:52 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.FRPM Count (Ages 5-17)', 'frpm.Free Meal Count (K-12)', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm', 'frpm.Free Meal Count (Ages 5-17)']
2026-02-13 14:43:52 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0]),
(Free Meal Count (Ages 5-17):REAL, Free Meal Count (Ages 5-17), Examples: [553.0, 182.0, 128.0]),
(Free Meal Count (K-12):REAL, Free Meal Count (K-12), Examples: [565.0, 186.0, 134.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435])
]

### ã€User Questionã€‘
What is the free or reduced price meal count for ages 5 to 17 in the Youth Authority School with a mailing street address of PO Box 1040?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the free or reduced price meal count for ages 5 to 17 in the Youth Authority School with a mailing street address of PO Box 1040?

```sql

2026-02-13 14:43:52 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:54 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT `Free Meal Count (Ages 5-17)` FROM frpm JOIN schooldistrict ON frpm.CDSCode = schooldistrict.CDSCode WHERE `Mailing Street Address` = 'PO Box 1040' AND `School Name` = 'Youth Authority School'
2026-02-13 14:43:54 - DEBUG - [main.py:167] - SELECT `Free Meal Count (Ages 5-17)` FROM frpm JOIN schooldistrict ON frpm.CDSCode = schooldistrict.CDSCode WHERE `Mailing Street Address` = 'PO Box 1040' AND `School Name` = 'Youth Authority School'
2026-02-13 14:43:54 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: schooldistrict
[SQL: SELECT `Free Meal Count (Ages 5-17)` FROM frpm JOIN schooldistrict ON frpm.CDSCode = schooldistrict.CDSCode WHERE `Mailing Street Address` = 'PO Box 1040' AND `School Name` = 'Youth Authority School']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT `Free Meal Count (Ages 5-17)` FROM frpm JOIN schooldistrict ON frpm.CDSCode = schooldistrict.CDSCode WHERE `Mailing Street Address` = 'PO Box 1040' AND `School Name` = 'Youth Authority School'
2026-02-13 14:43:54 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.soctype', 'schools.mailstreet', 'schools.cdscode']
2026-02-13 14:43:54 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: schooldistrict
[SQL: SELECT `Free Meal Count (Ages 5-17)` FROM frpm JOIN schooldistrict ON frpm.CDSCode = schooldistrict.CDSCode WHERE `Mailing Street Address` = 'PO Box 1040' AND `School Name` = 'Youth Authority School']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:54 - DEBUG - [main.py:120] - Question: What is the lowest grade for the District Special Education Consortia School with National Center for Educational Statistics school district identification number of 0613360?
2026-02-13 14:43:54 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the lowest grade for the District Special Education Consortia School with National Center for Educational Statistics school district identification number of 0613360?
2026-02-13 14:43:54 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:43:54 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.NCESSchool', 'schools.GSoffered', 'frpm.Low Grade', 'schools.NCESDist', 'frpm.CDSCode', 'schools.GSserved', 'frpm']
2026-02-13 14:43:54 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Low Grade:TEXT, Low Grade, Examples: [K, 9, 1])
]
# Table: schools
[
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7]),
(NCESDist:TEXT, NCESDist, Examples: [0691051, 0600002, 0600003]),
(NCESSchool:TEXT, NCESSchool, Examples: [10546, 10947, 12283])
]

### ã€User Questionã€‘
What is the lowest grade for the District Special Education Consortia School with National Center for Educational Statistics school district identification number of 0613360?

### ã€Reference Informationã€‘
District Special Education Consortia School refers to EdOpsCode = 'SPECON'.

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the lowest grade for the District Special Education Consortia School with National Center for Educational Statistics school district identification number of 0613360?

```sql

2026-02-13 14:43:54 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:56 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT MIN(T1.`Low Grade`) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.NCESSchool WHERE T2.NCESDist = '0613360' AND T2.EdOpsCode = 'SPECON'

2026-02-13 14:43:56 - DEBUG - [main.py:167] - SELECT MIN(T1.`Low Grade`) FROM frpm AS T1 INNER JOIN schools AS T2 ON T1.CDSCode = T2.NCESSchool WHERE T2.NCESDist = '0613360' AND T2.EdOpsCode = 'SPECON'
2026-02-13 14:43:56 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.edopscode', 'schools.cdscode']
2026-02-13 14:43:56 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:43:56 - DEBUG - [main.py:120] - Question: What is the educational level name for the schools with Breakfast Provision 2 in county code 37? Indicate the name of the school.
2026-02-13 14:43:56 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the educational level name for the schools with Breakfast Provision 2 in county code 37? Indicate the name of the school.
2026-02-13 14:43:57 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 6
2026-02-13 14:43:57 - DEBUG - [pipeline.py:349] - Retrieved Nodes (6): ['frpm.Charter School (Y/N)', 'frpm.School Type', 'frpm.School Code', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:43:57 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Charter School (Y/N):INTEGER, Charter School (Y/N), Examples: [1, 0]),
(School Code:TEXT, School Code, Examples: [0109835, 0112607, 0118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter]),
(School Type:TEXT, School Type, Examples: [K-12 Schools (Public)])
]

### ã€User Questionã€‘
What is the educational level name for the schools with Breakfast Provision 2 in county code 37? Indicate the name of the school.

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the educational level name for the schools with Breakfast Provision 2 in county code 37? Indicate the name of the school.

```sql

2026-02-13 14:43:57 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:43:59 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT DISTINCT T1.`Educational Level Name`, T2.`School Name` FROM ed_org_level AS T1 INNER JOIN frpm AS T2 ON T2.`School Code` = T1.`School Code` WHERE T2.`Breakfast Provision` = '2' AND T1.`County Code` = 37

2026-02-13 14:43:59 - DEBUG - [main.py:167] - SELECT DISTINCT T1.`Educational Level Name`, T2.`School Name` FROM ed_org_level AS T1 INNER JOIN frpm AS T2 ON T2.`School Code` = T1.`School Code` WHERE T2.`Breakfast Provision` = '2' AND T1.`County Code` = 37
2026-02-13 14:43:59 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: ed_org_level
[SQL: SELECT DISTINCT T1.`Educational Level Name`, T2.`School Name` FROM ed_org_level AS T1 INNER JOIN frpm AS T2 ON T2.`School Code` = T1.`School Code` WHERE T2.`Breakfast Provision` = '2' AND T1.`County Code` = 37]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT DISTINCT T1.`Educational Level Name`, T2.`School Name` FROM ed_org_level AS T1 INNER JOIN frpm AS T2 ON T2.`School Code` = T1.`School Code` WHERE T2.`Breakfast Provision` = '2' AND T1.`County Code` = 37
2026-02-13 14:43:59 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.school', 'frpm.nslp provision status', 'schools.eilname', 'schools.cdscode', 'frpm.county code']
2026-02-13 14:43:59 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: ed_org_level
[SQL: SELECT DISTINCT T1.`Educational Level Name`, T2.`School Name` FROM ed_org_level AS T1 INNER JOIN frpm AS T2 ON T2.`School Code` = T1.`School Code` WHERE T2.`Breakfast Provision` = '2' AND T1.`County Code` = 37]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:43:59 - DEBUG - [main.py:120] - Question: What is the city location of the high school level school with Lunch Provision 2 whose lowest grade is 9 and the highest grade is 12 in the county of Merced?
2026-02-13 14:43:59 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the city location of the high school level school with Lunch Provision 2 whose lowest grade is 9 and the highest grade is 12 in the county of Merced?
2026-02-13 14:43:59 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 6
2026-02-13 14:43:59 - DEBUG - [pipeline.py:349] - Retrieved Nodes (6): ['frpm.Low Grade', 'schools.City', 'frpm.CDSCode', 'schools.GSserved', 'frpm', 'frpm.NSLP Provision Status']
2026-02-13 14:43:59 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Low Grade:TEXT, Low Grade, Examples: [K, 9, 1]),
(NSLP Provision Status:TEXT, NSLP Provision Status, Examples: [Breakfast Provision 2])
]
# Table: schools
[
(City:TEXT, City, Examples: [Hayward, Newark, Oakland]),
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7])
]

### ã€User Questionã€‘
What is the city location of the high school level school with Lunch Provision 2 whose lowest grade is 9 and the highest grade is 12 in the county of Merced?

### ã€Reference Informationã€‘
High school can be represented as EILCode = 'HS'

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the city location of the high school level school with Lunch Provision 2 whose lowest grade is 9 and the highest grade is 12 in the county of Merced?

```sql

2026-02-13 14:43:59 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:44:02 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.City FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Low Grade` = '9' AND T2.`NSLP Provision Status` = 'Lunch Provision 2' AND T1.GSserved = '9-12' AND T1.County = 'Merced'

2026-02-13 14:44:02 - DEBUG - [main.py:167] - SELECT T1.City FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Low Grade` = '9' AND T2.`NSLP Provision Status` = 'Lunch Provision 2' AND T1.GSserved = '9-12' AND T1.County = 'Merced'
2026-02-13 14:44:02 - WARNING - [evaluation.py:281] - [WARNING] Zero Rows Returned! SQL: SELECT T1.City FROM schools AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T2.`Low Grade` = '9' AND T2.`NSLP Provision Status` = 'Lunch Provision 2' AND T1.GSserved = '9-12' AND T1.County = 'Merced'
2026-02-13 14:44:02 - DEBUG - [main.py:181] - [Low Recall] Missing: ['frpm.high grade', 'schools.county', 'schools.eilcode', 'schools.cdscode']
2026-02-13 14:44:02 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Row Count Mismatch: GT=1, Pred=0
2026-02-13 14:44:02 - DEBUG - [main.py:120] - Question: Which schools served a grade span of Kindergarten to 9th grade in the county of Los Angeles and what is its Percent (%) Eligible FRPM (Ages 5-17)?
2026-02-13 14:44:02 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Which schools served a grade span of Kindergarten to 9th grade in the county of Los Angeles and what is its Percent (%) Eligible FRPM (Ages 5-17)?
2026-02-13 14:44:02 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:44:02 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.FRPM Count (Ages 5-17)', 'frpm.Enrollment (Ages 5-17)', 'frpm.CDSCode', 'frpm.Percent (%) Eligible Free (Ages 5-17)', 'frpm']
2026-02-13 14:44:02 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(FRPM Count (Ages 5-17):REAL, FRPM Count (Ages 5-17), Examples: [702.0, 182.0, 168.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098]),
(Percent (%) Eligible Free (Ages 5-17):REAL, Percent (%) Eligible Free (Ages 5-17), Examples: [0.516822429906542, 0.484042553191489, 0.556521739130435])
]

### ã€User Questionã€‘
Which schools served a grade span of Kindergarten to 9th grade in the county of Los Angeles and what is its Percent (%) Eligible FRPM (Ages 5-17)?

### ã€Reference Informationã€‘
Percent (%) Eligible FRPM (Ages 5-17) can be acquired by `FRPM Count (Ages 5-17)` / `Enrollment (Ages 5-17)` * 100

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Which schools served a grade span of Kindergarten to 9th grade in the county of Los Angeles and what is its Percent (%) Eligible FRPM (Ages 5-17)?

```sql

2026-02-13 14:44:02 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:44:05 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.`School Name`, T2.`Percent (%) Eligible FRPM (Ages 5-17)` FROM public_schooldistrict AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`County` = 'Los Angeles' AND T1.`Grade Span` = 'Kindergarten to 9th grade'

2026-02-13 14:44:05 - DEBUG - [main.py:167] - SELECT T1.`School Name`, T2.`Percent (%) Eligible FRPM (Ages 5-17)` FROM public_schooldistrict AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`County` = 'Los Angeles' AND T1.`Grade Span` = 'Kindergarten to 9th grade'
2026-02-13 14:44:05 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: public_schooldistrict
[SQL: SELECT T1.`School Name`, T2.`Percent (%) Eligible FRPM (Ages 5-17)` FROM public_schooldistrict AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`County` = 'Los Angeles' AND T1.`Grade Span` = 'Kindergarten to 9th grade']
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT T1.`School Name`, T2.`Percent (%) Eligible FRPM (Ages 5-17)` FROM public_schooldistrict AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`County` = 'Los Angeles' AND T1.`Grade Span` = 'Kindergarten to 9th grade'
2026-02-13 14:44:05 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.gsserved', 'schools.school', 'schools.county', 'schools.cdscode']
2026-02-13 14:44:05 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: public_schooldistrict
[SQL: SELECT T1.`School Name`, T2.`Percent (%) Eligible FRPM (Ages 5-17)` FROM public_schooldistrict AS T1 INNER JOIN frpm AS T2 ON T1.CDSCode = T2.CDSCode WHERE T1.`County` = 'Los Angeles' AND T1.`Grade Span` = 'Kindergarten to 9th grade']
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:44:05 - DEBUG - [main.py:120] - Question: What is the most common type of grade span served in the city of Adelanto?
2026-02-13 14:44:05 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the most common type of grade span served in the city of Adelanto?
2026-02-13 14:44:05 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:44:05 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['frpm.CDSCode', 'frpm.Enrollment (K-12)', 'frpm.Percent (%) Eligible FRPM (K-12)', 'frpm.Percent (%) Eligible FRPM (Ages 5-17)', 'frpm.Enrollment (Ages 5-17)', 'frpm.Percent (%) Eligible Free (K-12)', 'frpm']
2026-02-13 14:44:05 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Enrollment (Ages 5-17):REAL, Enrollment (Ages 5-17), Examples: [1070.0, 376.0, 230.0]),
(Enrollment (K-12):REAL, Enrollment (K-12), Examples: [1087.0, 395.0, 244.0]),
(Percent (%) Eligible FRPM (Ages 5-17):REAL, Percent (%) Eligible FRPM (Ages 5-17), Examples: [0.65607476635514, 0.484042553191489, 0.730434782608696]),
(Percent (%) Eligible FRPM (K-12):REAL, Percent (%) Eligible FRPM (K-12), Examples: [0.657773689052438, 0.470886075949367, 0.717213114754098]),
(Percent (%) Eligible Free (K-12):REAL, Percent (%) Eligible Free (K-12), Examples: [0.519779208831647, 0.470886075949367, 0.549180327868853])
]

### ã€User Questionã€‘
What is the most common type of grade span served in the city of Adelanto?

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the most common type of grade span served in the city of Adelanto?

```sql

2026-02-13 14:44:05 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:44:07 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT `Type of Grade Span` FROM `california_public_schools` WHERE City = 'Adelanto' GROUP BY `Type of Grade Span` ORDER BY COUNT(*) DESC LIMIT 1
2026-02-13 14:44:07 - DEBUG - [main.py:167] - SELECT `Type of Grade Span` FROM `california_public_schools` WHERE City = 'Adelanto' GROUP BY `Type of Grade Span` ORDER BY COUNT(*) DESC LIMIT 1
2026-02-13 14:44:07 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such table: california_public_schools
[SQL: SELECT `Type of Grade Span` FROM `california_public_schools` WHERE City = 'Adelanto' GROUP BY `Type of Grade Span` ORDER BY COUNT(*) DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT `Type of Grade Span` FROM `california_public_schools` WHERE City = 'Adelanto' GROUP BY `Type of Grade Span` ORDER BY COUNT(*) DESC LIMIT 1
2026-02-13 14:44:07 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.city', 'schools.gsserved']
2026-02-13 14:44:07 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such table: california_public_schools
[SQL: SELECT `Type of Grade Span` FROM `california_public_schools` WHERE City = 'Adelanto' GROUP BY `Type of Grade Span` ORDER BY COUNT(*) DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:44:07 - DEBUG - [main.py:120] - Question: Between San Diego and Santa Barbara, which county offers the most number of schools that does not offer physical building? Indicate the amount.
2026-02-13 14:44:07 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: Between San Diego and Santa Barbara, which county offers the most number of schools that does not offer physical building? Indicate the amount.
2026-02-13 14:44:07 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:44:07 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.DOC', 'schools.SOC', 'schools.StreetAbr', 'schools.GSoffered', 'frpm.CDSCode', 'schools.GSserved', 'frpm']
2026-02-13 14:44:07 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489])
]
# Table: schools
[
(DOC:TEXT, DOC, Examples: [00, 31, 34]),
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(GSserved:TEXT, GSserved, Examples: [K-12, 9-12, K-7]),
(SOC:TEXT, SOC, Examples: [65, 66, 60]),
(StreetAbr:TEXT, StreetAbr, Examples: [313 West Winton Ave.])
]

### ã€User Questionã€‘
Between San Diego and Santa Barbara, which county offers the most number of schools that does not offer physical building? Indicate the amount.

### ã€Reference Informationã€‘
'Does not offer physical building' means Virtual = F in the database.

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
Between San Diego and Santa Barbara, which county offers the most number of schools that does not offer physical building? Indicate the amount.

```sql

2026-02-13 14:44:07 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:44:09 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT SOC, COUNT(*) AS school_count FROM schools WHERE SOC IN ( SELECT SOC FROM schools WHERE `Virtual` = 'F' ) AND `County` IN ('San Diego', 'Santa Barbara') GROUP BY SOC ORDER BY school_count DESC LIMIT 1

2026-02-13 14:44:09 - DEBUG - [main.py:167] - SELECT SOC, COUNT(*) AS school_count FROM schools WHERE SOC IN ( SELECT SOC FROM schools WHERE `Virtual` = 'F' ) AND `County` IN ('San Diego', 'Santa Barbara') GROUP BY SOC ORDER BY school_count DESC LIMIT 1
2026-02-13 14:44:09 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.virtual', 'schools.county']
2026-02-13 14:44:09 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Mismatch (Fuzzy check failed)
2026-02-13 14:44:09 - DEBUG - [main.py:120] - Question: What is the school type of the school with the highest latitude? Indicate the name of the school as well as the latitude coordinates.
2026-02-13 14:44:09 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: What is the school type of the school with the highest latitude? Indicate the name of the school as well as the latitude coordinates.
2026-02-13 14:44:09 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:44:09 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.School', 'schools.Latitude', 'schools.Longitude', 'frpm.School Type', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:44:09 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter]),
(School Type:TEXT, School Type, Examples: [K-12 Schools (Public)])
]
# Table: schools
[
(Latitude:REAL, Latitude, Examples: [37.658212, 37.521436, 37.80452]),
(Longitude:REAL, Longitude, Examples: [-122.09713, -121.99391, -122.26815]),
(School:TEXT, School, Examples: [FAME Public Charter])
]

### ã€User Questionã€‘
What is the school type of the school with the highest latitude? Indicate the name of the school as well as the latitude coordinates.

### ã€Reference Informationã€‘


### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
What is the school type of the school with the highest latitude? Indicate the name of the school as well as the latitude coordinates.

```sql

2026-02-13 14:44:09 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:44:10 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT `School Type`, `School Name`, Latitude FROM frpm ORDER BY Latitude DESC LIMIT 1
2026-02-13 14:44:10 - DEBUG - [main.py:167] - SELECT `School Type`, `School Name`, Latitude FROM frpm ORDER BY Latitude DESC LIMIT 1
2026-02-13 14:44:10 - ERROR - [evaluation.py:294] - [ERROR] SQL Execution Failed: (sqlite3.OperationalError) no such column: Latitude
[SQL: SELECT `School Type`, `School Name`, Latitude FROM frpm ORDER BY Latitude DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8) | Query: SELECT `School Type`, `School Name`, Latitude FROM frpm ORDER BY Latitude DESC LIMIT 1
2026-02-13 14:44:10 - DEBUG - [main.py:181] - [Low Recall] Missing: ['schools.cdscode']
2026-02-13 14:44:10 - DEBUG - [main.py:186] - [FAIL] Execution Mismatch. Err: Pred Error: (sqlite3.OperationalError) no such column: Latitude
[SQL: SELECT `School Type`, `School Name`, Latitude FROM frpm ORDER BY Latitude DESC LIMIT 1]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2026-02-13 14:44:10 - DEBUG - [main.py:120] - Question: In which city can you find the school in the state of California with the lowest latitude coordinates and what is its lowest grade? Indicate the school name.
2026-02-13 14:44:10 - DEBUG - [retriever.py:410] - [RerankedPCST] Processing: In which city can you find the school in the state of California with the lowest latitude coordinates and what is its lowest grade? Indicate the school name.
2026-02-13 14:44:11 - DEBUG - [retriever.py:507] - [INFO] Final Nodes: 7
2026-02-13 14:44:11 - DEBUG - [pipeline.py:349] - Retrieved Nodes (7): ['schools.Latitude', 'schools.SOC', 'schools.GSoffered', 'frpm.Low Grade', 'frpm.CDSCode', 'frpm', 'frpm.School Name']
2026-02-13 14:44:11 - DEBUG - [generator.py:60] - Prompt: 
### ã€Roleã€‘
You are an expert in sqlite, and now you need to read and understand the following ã€Database schemaã€‘ description, 
as well as evidence (if exists)ã€Reference Informationã€‘ that may be useful, and use MariaDB knowledge to generate SQL statements to answer ã€User Questionsã€‘.

Note: The database can be complicated, so that you MUST follow the ã€Rulesã€‘ for generating SQL query.

### ã€Database Schemaã€‘
ã€DB_IDã€‘ california_schools
ã€Schemaã€‘
# Table: frpm
[
(CDSCode:TEXT, CDSCode, Primary Key, Examples: [01100170109835, 01100170112607, 01100170118489]),
(Low Grade:TEXT, Low Grade, Examples: [K, 9, 1]),
(School Name:TEXT, School Name, Examples: [FAME Public Charter])
]
# Table: schools
[
(GSoffered:TEXT, GSoffered, Examples: [K-12, 9-12, K-8]),
(Latitude:REAL, Latitude, Examples: [37.658212, 37.521436, 37.80452]),
(SOC:TEXT, SOC, Examples: [65, 66, 60])
]

### ã€User Questionã€‘
In which city can you find the school in the state of California with the lowest latitude coordinates and what is its lowest grade? Indicate the school name.

### ã€Reference Informationã€‘
State of California refers to state = 'CA'

### ã€Rulesã€‘
- The column name can have more than one word. Thus you MUST use backticks(`) for column name expression.

### ã€Output Formatã€‘
- Return the SQL query inside a markdown code block.
- Do not include explanations.

### ã€User Questionã€‘
In which city can you find the school in the state of California with the lowest latitude coordinates and what is its lowest grade? Indicate the school name.

```sql

2026-02-13 14:44:11 - DEBUG - [generator.py:72] - Sending SQL Generation Request...
2026-02-13 14:44:12 - DEBUG - [generator.py:77] - [DEBUG] Generator Raw Output: 
SELECT T1.city, T2.`Low Grade`, T2.`School Name` FROM city AS T1 JOIN frpm AS T2 ON T1.GPS = T2.CDSCode WHERE T1.state = 'CA' ORDER BY T1.latitude ASC LIMIT 1

2026-02-13 14:44:12 - DEBUG - [main.py:167] - SELECT T1.city, T2.`Low Grade`, T2.`School Name` FROM city AS T1 JOIN frpm AS T2 ON T1.GPS = T2.CDSCode WHERE T1.state = 'CA' ORDER BY T1.latitude ASC LIMIT 1
